
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>LeetCode 解题： 合并 K 个有序链表 | 存档Save&amp;Load</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="下一题 Hard。23 号，合并 K 个有序链表。">
<meta property="og:type" content="article">
<meta property="og:title" content="LeetCode 解题： 合并 K 个有序链表">
<meta property="og:url" content="https://jaycechant.info/2020/leetcode-23-merge-k-sorted-lists/index.html">
<meta property="og:site_name" content="存档Save&Load">
<meta property="og:description" content="下一题 Hard。23 号，合并 K 个有序链表。">
<meta property="og:image" content="https://jaycechant.info/../../images/leetcode-23-k-heads.svg">
<meta property="og:image" content="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">
<meta property="og:updated_time" content="2020-06-30T14:39:30.760Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LeetCode 解题： 合并 K 个有序链表">
<meta name="twitter:description" content="下一题 Hard。23 号，合并 K 个有序链表。">
<meta name="twitter:image" content="https://jaycechant.info/../../images/leetcode-23-k-heads.svg">
  
    <link rel="alternative" href="/atom.xml" title="存档Save&amp;Load" type="application/atom+xml">
  
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">存档Save&amp;Load</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">存档意味着放下包袱，搞砸了不过回来读档</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/list">List</a>
        
          <a class="main-nav-link" href="https://github.com/JayceChant">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/sitemap.xml">Sitemap</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
        
      </nav>
      
      <div id="search-form-wrap">
        <form action="" accept-charset="utf-8" class="search-form">
          <input id="searchtext" type="search" name="q" maxlength="20" class="search-form-input" placeholder="Search" onkeypress="if(event.keyCode==13){document.getElementById('searchsub').click();return false;}">
          <input id="searchsub" type="submit" value="" class="search-form-submit" onclick="window.open('https://global.bing.com/search?&amp;q=site:jaycechant.info '+document.getElementById('searchtext').value, '_blank')">
        </form>
      </div>
      
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-leetcode-23-merge-k-sorted-lists" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/leetcode-23-merge-k-sorted-lists/" class="article-date">
  <time datetime="2020-06-18T06:52:25.000Z" itemprop="datePublished">2020-06-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/刷题/">刷题</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      LeetCode 解题： 合并 K 个有序链表
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>下一题 Hard。23 号，合并 K 个有序链表。</p>
<a id="more"></a>
<p>英文：<a href="https://leetcode.com/problems/merge-k-sorted-lists/" target="_blank" rel="external">https://leetcode.com/problems/merge-k-sorted-lists/</a></p>
<p>中文：<a href="https://leetcode-cn.com/problems/merge-k-sorted-lists/" target="_blank" rel="external">https://leetcode-cn.com/problems/merge-k-sorted-lists/</a></p>
<p>不同解法涉及多个知识点，要优化也有很多细节可以调。只求 accept 的话，比较水，最好把不同做法都试试。</p>
<p>之前已经讲过链表基本操作，这次又遇到链表，就只讲算法部分，数据结构细节略过。</p>
<h2 id="理解题意"><a href="#理解题意" class="headerlink" title="理解题意"></a>理解题意</h2><h3 id="一句话概括"><a href="#一句话概括" class="headerlink" title="一句话概括"></a>一句话概括</h3><p>给定 k 个 <strong>有序</strong> 链表，合并成一个。</p>
<blockquote>
<p>这个环节是强调一定要先概括题意。特别是长篇大论讲故事的题。这题原题也就一句话，但按惯例还是给一句。</p>
</blockquote>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><p>见测试用例</p>
<h3 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h3><p>没有给出。</p>
<p>但我们可以注意到，既然没有给约束条件，也就是要考虑各种意义的空值。</p>
<p>另外，为了后续讨论方便，假定所有链表的总节点数为 N。</p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>惯例先贴测试代码，通过写测试代码体现对题目的理解。</p>
<blockquote>
<p>《<a href="https://jaycechant.info/2020/rapidly-generate-unit-tests-in-vs-code/">如何快速生成单元测试</a>》</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"strings"</span></div><div class="line">	<span class="string">"testing"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">var</span> _ fmt.Stringer = (*ListNode)(<span class="literal">nil</span>)</div><div class="line"></div><div class="line"><span class="comment">// 实现 Stringer 接口方便对比结果</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(l *ListNode)</span> <span class="title">String</span><span class="params">()</span> <span class="title">string</span></span> &#123;</div><div class="line">	sb := strings.Builder&#123;&#125;</div><div class="line">	<span class="keyword">for</span> l != <span class="literal">nil</span> &#123;</div><div class="line">		<span class="comment">// 为了代码简洁，不处理多余的 '-&gt;'</span></div><div class="line">		sb.WriteString(fmt.Sprintf(<span class="string">"%d-&gt;"</span>, l.Val))</div><div class="line">		l = l.Next</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> sb.String()</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 待测函数会修改链表，所以要每次从数组重新生成 链表</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">listsFromSlices</span><span class="params">(aa [][]<span class="keyword">int</span>)</span> []*<span class="title">ListNode</span></span> &#123;</div><div class="line">	ll := <span class="built_in">make</span>([]*ListNode, <span class="number">0</span>, <span class="built_in">len</span>(aa))</div><div class="line">	head := <span class="built_in">new</span>(ListNode)</div><div class="line">	<span class="keyword">for</span> _, a := <span class="keyword">range</span> aa &#123;</div><div class="line">		head.Next = <span class="literal">nil</span> <span class="comment">// 避免空数组没有覆盖</span></div><div class="line">		tail := head</div><div class="line">		<span class="keyword">for</span> _, v := <span class="keyword">range</span> a &#123;</div><div class="line">			tail.Next = &amp;ListNode&#123;Val: v&#125;</div><div class="line">			tail = tail.Next</div><div class="line">		&#125;</div><div class="line">		ll = <span class="built_in">append</span>(ll, head.Next)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ll</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> tests = []<span class="keyword">struct</span> &#123;</div><div class="line">	name  <span class="keyword">string</span></div><div class="line">	cases [][]<span class="keyword">int</span></div><div class="line">	want  <span class="keyword">string</span></div><div class="line">&#125;&#123;</div><div class="line">	&#123;</div><div class="line">		name:  <span class="string">"0"</span>,</div><div class="line">		cases: [][]<span class="keyword">int</span>&#123;&#125;,</div><div class="line">		want:  <span class="string">""</span>,</div><div class="line">	&#125;,</div><div class="line">	&#123;</div><div class="line">		name: <span class="string">"00"</span>,</div><div class="line">		cases: [][]<span class="keyword">int</span>&#123;</div><div class="line">			&#123;&#125;,</div><div class="line">		&#125;,</div><div class="line">		want: <span class="string">""</span>,</div><div class="line">	&#125;,</div><div class="line">	&#123;</div><div class="line">		name: <span class="string">"1"</span>,</div><div class="line">		cases: [][]<span class="keyword">int</span>&#123;</div><div class="line">			&#123;<span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>&#125;,</div><div class="line">			&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>&#125;,</div><div class="line">			&#123;<span class="number">2</span>, <span class="number">6</span>&#125;,</div><div class="line">		&#125;,</div><div class="line">		want: <span class="string">"1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4-&gt;5-&gt;6-&gt;"</span>,</div><div class="line">	&#125;,</div><div class="line">	<span class="comment">// 篇幅关系，省略更多测试数据</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">Test_mergeKLists</span><span class="params">(t *testing.T)</span></span> &#123;</div><div class="line">	<span class="keyword">for</span> _, tt := <span class="keyword">range</span> tests &#123;</div><div class="line">		t.Run(tt.name, <span class="function"><span class="keyword">func</span><span class="params">(t *testing.T)</span></span> &#123;</div><div class="line">			<span class="comment">// 链表每次要重新生成</span></div><div class="line">			<span class="keyword">if</span> got := mergeKLists(listsFromSlices(tt.cases)); got.String() != tt.want &#123;</div><div class="line">				t.Errorf(<span class="string">"mergeKLists() = %s, want %s"</span>, got, tt.want)</div><div class="line">			&#125;</div><div class="line">		&#125;)</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="分治"><a href="#分治" class="headerlink" title="分治"></a>分治</h2><p>如果不必考虑效率，那么这道题只要会 <strong>链表的基本操作</strong> ，就可以做。</p>
<h3 id="依次合并"><a href="#依次合并" class="headerlink" title="依次合并"></a>依次合并</h3><p>举例说，我们有 8 个有序链表，分别编号 1 ~ 8。合并 8 个链表的代码不好写；何况 k 不是一个固定的值，写出了合并 8 个链表的代码，k 还可以是 9、10、100、1000。</p>
<p>但合并两个链表很容易，两两合并，总会合并到一个：</p>
<ol>
<li>取出排在前面的两个链表，一开始是 1 和 2；</li>
<li>合并这两个链表；</li>
<li>方便起见，合并后的链表还叫 1，链表 2 已经被 1 包含了，排在最前面的链表是 1 和 3，回到步骤 1)；</li>
<li>以此类推，重复步骤 1) ~ 3)，直到只剩下链表 1。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">1  2  3  4  5  6  7  8</div><div class="line">│  │  │  │  │  │  │  │</div><div class="line">├──┘  │  │  │  │  │  │</div><div class="line">├─────┘  │  │  │  │  │</div><div class="line">├────────┘  │  │  │  │</div><div class="line">├───────────┘  │  │  │</div><div class="line">├──────────────┘  │  │</div><div class="line">├─────────────────┘  │</div><div class="line">├────────────────────┘</div><div class="line">1</div></pre></td></tr></table></figure>
<p>这就是分治法。<strong>分而治之（Divide and Conquer）</strong> 。</p>
<p>当我们</p>
<ul>
<li>遇到一个很难解决的问题（合并 k 个链表），</li>
<li>这个问题可以分解成 多个 / 多层 子问题，并且子问题的解可以组合成原问题的解，</li>
<li>最小的子问题很容易解决（合并两个链表），</li>
<li>子问题结构相似，解法相近（合并）。</li>
</ul>
<p>就可以考虑分治法。</p>
<p>这种写法非常简单，就不贴代码了。需要提醒的是，因为链表 1 越来越长，对链表 1 进行遍历和修改需要的操作越来越多。此时可以将 <strong>合并（merge）成新链表</strong> ，改为其中一个链表 <strong>原地插入（insert）</strong> 另一个（最好是短链表的节点插入长链表） ，减少不必要的修改操作。</p>
<h4 id="复杂度"><a href="#复杂度" class="headerlink" title="复杂度"></a>复杂度</h4><p>已知链表数为 k，总节点数为 N。最坏的情况下，第一个链表的长度为 N - k + 1，后续每个链表都只有一个节点，而且该节点比前面所有节点都大（换言之，每次都要比较到最后，才能找到插入位置）。</p>
<p>第一次合并，遍历了 N - k + 2 个节点，往后每次增加一个，总共合并 k 次。易得，时间复杂度为 O（kN），空间复杂度为常数 O(1) 。</p>
<h3 id="哈夫曼合并"><a href="#哈夫曼合并" class="headerlink" title="哈夫曼合并"></a>哈夫曼合并</h3><p>前面的做法，效率不太高，原因是越来越长的链表 1 偏偏参加了最多次合并（一个不落全参与了），导致总的遍历和操作节点数很高。考虑不同情况：</p>
<ul>
<li>链表长度平均的情况下，链表 1 也会越来越长；</li>
<li>最坏情况下，链表 1 一开始就最长，效率就更糟糕；</li>
<li>仅当链表长度差距较大，而且从短到长排列时，这种做法效率比较高。</li>
</ul>
<p>我们一般考虑最坏情况（大 O 分析）；如果最坏情况概率很低和影响不大则考虑平均情况。明显两种情况表现都不佳。</p>
<p>尝试将最坏情况转化成最优情况：</p>
<ol>
<li>取出长度最短的两个链表；</li>
<li>合并这两个链表，并将合并后的链表放回；</li>
<li>重复步骤 1) 2) 直到只剩下一个链表。</li>
</ol>
<p>实际上这就是构造了一个 <strong>以链表长度为权值的哈夫曼树</strong> 。（篇幅关系，哈夫曼树不在此展开。）哈夫曼树具有带权路径最短的性质，而合并开销正是跟链表长度相关，毫无疑问，光看合并开销这样是最优的。</p>
<p>然而构造哈夫曼树，需要额外的开销：</p>
<ul>
<li><p>链表并不能直接获取长度，需要 O(N) 时间复杂度遍历所有节点；</p>
</li>
<li><p>链表之间并非按长度排列，需要排序；考虑到合并之后的链表还得重新加入排序，优先队列是最佳选择，时间复杂度 O(k log(k) ) ，空间复杂度 O(k)。</p>
</li>
</ul>
<p>通过这个 O(N + k log(k) ) 的操作之后，所有比 <strong>链表初始长度相等</strong> 坏的情况，都能通过让短的先合并来优化。换言之，长度均分成了最坏情况。这种情况下，链表两两合并，每个初始链表参与合并的次数一致，均为 log(k)；每次将 N 个节点遍历一遍（详见下一小节）。时间复杂度为 O(N log(k))。</p>
<p>总的时间复杂度为 O(N + (N+k) log(k)) ，空间复杂度 O(k)。</p>
<p>这种做法花费了额外的时间和空间开销，大大增加了代码的复杂性，优化的效果却依赖数据的特殊性：数据分布越不均匀，效果越好。在我看来，这属于典型的 <strong>过早优化</strong> 。为不确定的优化效果，破坏代码的易读性和可维护性，工程上是非常不明智的；即使在比赛里，调试这种代码也很浪费时间。因为不推荐，不贴代码。</p>
<p>当然，这种做法并非不能用。实际应用中发现大部分数据都分布非常不均匀，对性能很敏感，profile 之后发现这里确实成为了瓶颈，可以考虑。</p>
<h3 id="两两合并"><a href="#两两合并" class="headerlink" title="两两合并"></a>两两合并</h3><p>相比之下，不需要特殊的处理，直接分组两两合并，很容易就能 O(N log(k)) 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1   2   3   4   5   6   7   8</div><div class="line">│   │   │   │   │   │   │   │</div><div class="line">└─┬─┘   └─┬─┘   └─┬─┘   └─┬─┘</div><div class="line">  └───┬───┘       └───┬───┘</div><div class="line">      └───────┬───────┘</div></pre></td></tr></table></figure>
<p>每一轮两两分组，每个链表都与同组的链表合并一次，所有 N 个节点都被遍历一次。一共 log(k) 轮。所以很容易得到 O(N log(k)) 。跟前面的做法不一样的是，抹掉了不同情况的差异，都是一样的时间复杂度。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeKLists</span><span class="params">(lists []*ListNode)</span> *<span class="title">ListNode</span></span> &#123;</div><div class="line">	k := <span class="built_in">len</span>(lists)</div><div class="line">	<span class="keyword">if</span> k == <span class="number">0</span> &#123;</div><div class="line">		<span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 空白伪头结点，避免判空处理</span></div><div class="line">	head := <span class="built_in">new</span>(ListNode)</div><div class="line">	<span class="comment">// 合并步长从 1 开始不断翻倍</span></div><div class="line">	<span class="keyword">for</span> step := <span class="number">1</span>; step &lt; k; &#123;</div><div class="line">		<span class="comment">// 分组宽度是步长的两倍</span></div><div class="line">		width := step * <span class="number">2</span></div><div class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i+step &lt; k; i += width &#123;</div><div class="line">			<span class="comment">// func merge(list1 *ListNode, list2 *ListNode) 实际开发中这部分应该抽取子函数</span></div><div class="line">			head.Next = lists[i]</div><div class="line">			list2 := lists[i+step]</div><div class="line">			tail := head</div><div class="line">			<span class="keyword">for</span> tail.Next != <span class="literal">nil</span> &amp;&amp; list2 != <span class="literal">nil</span> &#123;</div><div class="line">				<span class="keyword">if</span> list2.Val &lt;= tail.Next.Val &#123;</div><div class="line">					tail.Next, list2.Next, list2 = list2, tail.Next, list2.Next</div><div class="line">				&#125;</div><div class="line">				tail = tail.Next</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> list2 != <span class="literal">nil</span> &#123;</div><div class="line">				tail.Next = list2</div><div class="line">			&#125;</div><div class="line">			<span class="comment">// 第一个节点可能是来自 list2，合并结果一定要赋值回去</span></div><div class="line">			lists[i] = head.Next</div><div class="line">			<span class="comment">// func merge() end</span></div><div class="line">		&#125;</div><div class="line">		step = width</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> lists[<span class="number">0</span>]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以看到，即使同为分治法，不同分割子问题的策略，对效率的影响非常大。</p>
<p>一般来说，子问题分割得越均匀，效果越好。</p>
<h2 id="优先队列"><a href="#优先队列" class="headerlink" title="优先队列"></a>优先队列</h2><p>通过调整合并链表的顺序，可以优化效率。但毕竟是先后合并，总有一些节点需要反复参与合并，导致反复遍历。能不能把所有节点只访问一遍就合并完呢？</p>
<p>可以的。只要 k 个链表同时合并，不断取 k 个链表头里最小的元素放到新链表，等遍历完也就合并完了。</p>
<p>不过两个节点比较一次就得出最小，k 个头节点则需要排个序:</p>
<ul>
<li><p>花费 O(k log(k)) 的时间得到 k 个头结点组成的有序序列。</p>
<p>  但这只得出一个最小节点。只有 k 个里最小节点确定是最小的，第二个节点开始就不确定的了，剩下还没加入排序的节点里，有可能存在更小的节点。</p>
</li>
<li><p>接下来，还要从最小节点所在的链表补充新的头节点加入排序。这次只需 O(log(k)) 时间找到新加入节点的位置，就能再得到一个最小节点。（<strong>有序序列里查找要用二分法</strong>）</p>
</li>
<li><p>如此重复 N - k + 1 次，就把所有节点变成新的有序链表了。</p>
</li>
</ul>
<p>时间复杂度是 O(k log(k) + (N - k) log(k)) 。也就是 O(N log(k)) 。相对应地，需要一直维护大小为 k 的有序序列，额外空间复杂度是 O(k)。</p>
<p>稍微解释一下，为什么每次只能确定 k 个节点里的最小是全局最小，接下来需要对应的链表再加入一个节点，才能再确定一个最小节点。这个问题，反应过来了很简单，但会有人一下子反应不过来。</p>
<p><img src="../../images/leetcode-23-k-heads.svg" alt=""></p>
<p>看图就非常清楚了。</p>
<p>第一轮毫无疑问。因为各个链表都是有序的，链表头就是链表内最小的，不确定的只是链表之间的情况，所以链表头里面的最小，就是最小里的最小。</p>
<p>但第二轮开始就产生疑问了：</p>
<ol>
<li><p>为什么不能继续取最小，而要加入一个新节点？</p>
<p> 例子里如果不加新节点继续取最小，就是 3，但实际上最小是 2。必须将之前最小节点的下一个节点加入排序。</p>
</li>
<li><p>为什么只需要加最小节点的下一个节点？</p>
<p> 很简单，因为其他链表的链表头（最小）都已经参与排序了，这些链表剩下的节点里，不会有比 <strong>已排序里的最小</strong> 更小的节点了。也就是说，这些节点加进来，除了让序列变长，不会改变结果。但是刚取走了最小节点的链表不一样，有可能连续几个节点比其他链表头小。</p>
</li>
</ol>
<p>其实更简单的解释就是：每一轮的最小，都要在当前的所有链表头里产生。看图就秒懂了。</p>
<h3 id="优先队列-和-二叉堆"><a href="#优先队列-和-二叉堆" class="headerlink" title="优先队列 和 二叉堆"></a>优先队列 和 二叉堆</h3><p>不过上面的过程太理想化了。落实到代码会发现，往 k 节点的有序序列里加入新节点时，确实可以通过 二分法 快速找到 插入点。但还得插入啊！如果用数组实现，最坏情况下，插入点在开头，需要花费 O(k) 时间把所有节点往后挪。</p>
<p>这时有两种办法保持 O(log(k)) 复杂度：</p>
<ul>
<li>这 k 个节点的排序也用链表。为了避免覆盖节点原来的信息，只能创建新的节点类型，Val 值指向原来的节点。换言之，这个 k 大小的链表变成了 <em>链表的链表</em> 。</li>
<li>使用优先队列。</li>
</ul>
<p>第一种比较琐碎，我选优先队列。（其实是为了 cue 知识点，哈哈哈）</p>
<p>大家可能会同时听说过 <strong>优先队列 Priority Queue</strong> 和 <strong>二叉堆 Binary Heap</strong> ，它们之间是什么关系呢？</p>
<ul>
<li><p>优先队列是抽象的数据类型。它只定义需要支持的操作，并不限定具体的实现。在多数语言里，它就是一个 Interface。一般而言，优先队列需要支持以下操作：</p>
<ul>
<li>插入：插入带优先级的元素；</li>
<li>取出队头：获得队列里优先级最高的元素（队头），并从队列中删除；</li>
<li><p>查看队头：读取队头元素，但不做修改。</p>
<p>优先队列有多种实现，二叉堆只是最经典的一种选择。如果不考虑效率，也可以用一个普通数组来实现：插入时直接追加到数组最后（O(1)），取出时花 O(n) 时间查找并移动元素。</p>
</li>
</ul>
</li>
<li><p>二叉堆则是具体的数据结构实现。</p>
<ul>
<li>二叉堆本质上是一个 <strong>完全二叉树</strong> ，只是利用 完全二叉树 『每层全满，只有最后一层最右边可能存在空缺』的特点，使用数组来 <strong>连续存储</strong> ，简化操作。</li>
<li>堆的定义，是父节点比所有子节点都要小（或大）的树，换言之堆顶则是最小（或最大）的元素。如果用优先级作为比较内容，堆就可以作为优先队列的一个实现。</li>
<li>堆只限制了 父节点 和 子节点 的大小关系，子节点之间的关系并不确定。换言之，堆处于 <strong>部分有序</strong> 的状态，从这个状态变成完全有序，或者插入新元素后重新变回堆状态，时间开销都比较低。</li>
</ul>
</li>
</ul>
<p>对 k 个元素的二叉堆，插入和取出元素（并恢复堆）的时间复杂度均为 O(log(k))。从头构建一个 k 元素的二叉堆，最直观的做法是连续 k 次插入元素，复杂度为 O(k log(k))；或者从最后一层开始调整子树，一定到堆顶，直接使大小为 k 的数组堆化，每个元素访问一次，复杂度为 O(k)。</p>
<h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><p>go 有内置的堆实现 <code>container/heap</code> ，用法见官方文档。为了演示，还是实现一个最简单的（仅仅满足做题需要的）二叉堆。需要注意的是，凡是会修改堆本身的操作，都要用指针作为 receiver。</p>
<blockquote>
<p>为了只实现必要的操作，以及避免函数调用开销干扰效率的比较，以下堆的实现尽量只实现了必要部分，并且没有抽取公共函数。在实际开发中，这是不可取的。不是效率瓶颈的代码，应该以 可读性 和 DRY 优先。</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">type</span> myHeap []*ListNode</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(hp *myHeap)</span> <span class="title">push</span><span class="params">(node *ListNode)</span></span> &#123;</div><div class="line">	child := <span class="built_in">len</span>(*hp)</div><div class="line">	*hp = <span class="built_in">append</span>(*hp, node)</div><div class="line">	h := *hp</div><div class="line">	<span class="comment">// bubble up</span></div><div class="line">	<span class="keyword">for</span> child &gt; <span class="number">0</span> &#123;</div><div class="line">		parent := (child - <span class="number">1</span>) / <span class="number">2</span></div><div class="line">		<span class="keyword">if</span> h[parent].Val &lt;= h[child].Val &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		h[parent], h[child] = h[child], h[parent]</div><div class="line">		child = parent</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(hp *myHeap)</span> <span class="title">pop</span><span class="params">()</span> *<span class="title">ListNode</span></span> &#123;</div><div class="line">	h := *hp</div><div class="line">	top := h[<span class="number">0</span>]</div><div class="line">	k := <span class="built_in">len</span>(h)</div><div class="line">	h[<span class="number">0</span>] = h[k<span class="number">-1</span>]</div><div class="line">	<span class="comment">// bubble down</span></div><div class="line">	parent := <span class="number">0</span></div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		child := parent*<span class="number">2</span> + <span class="number">1</span></div><div class="line">		<span class="keyword">if</span> child &gt;= k &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> child+<span class="number">1</span> &lt; k &amp;&amp; h[child].Val &gt; h[child+<span class="number">1</span>].Val &#123;</div><div class="line">			child++</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> h[parent].Val &lt;= h[child].Val &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		h[parent], h[child] = h[child], h[parent]</div><div class="line">		parent = child</div><div class="line">	&#125;</div><div class="line">	h[k<span class="number">-1</span>] = <span class="literal">nil</span> <span class="comment">// 避免内存泄漏</span></div><div class="line">	*hp = h[:k<span class="number">-1</span>]</div><div class="line">	<span class="keyword">return</span> top</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeKLists</span><span class="params">(lists []*ListNode)</span> *<span class="title">ListNode</span></span> &#123;</div><div class="line">	h := <span class="built_in">make</span>(myHeap, <span class="number">0</span>)</div><div class="line">	<span class="keyword">for</span> _, l := <span class="keyword">range</span> lists &#123;</div><div class="line">		<span class="keyword">if</span> l != <span class="literal">nil</span> &#123;</div><div class="line">			h.push(l)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">// 空白伪头结点，避免判空处理</span></div><div class="line">	head := <span class="built_in">new</span>(ListNode)</div><div class="line">	tail := head</div><div class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(h) != <span class="number">0</span> &#123;</div><div class="line">		tail.Next = h.pop()</div><div class="line">		tail = tail.Next</div><div class="line">		<span class="keyword">if</span> tail.Next != <span class="literal">nil</span> &#123;</div><div class="line">			h.push(tail.Next)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> head.Next</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果理解了堆的定义，留意下标的计算，那么 push 和 pop 的代码就不难理解。关键是 上滤（bubble-up，又叫 sift-up） 和 下滤（bubble-down，又叫 sift-down）部分。</p>
<p>特别提醒，下滤前需要先将最后一个元素挪到堆顶，然后将这个元素作为 <strong>bubble</strong> 执行下滤，而不是对着堆顶删除之后的空穴下滤。因为空穴下滤时，无法确定两个子节点哪边较小会上浮，最后很大概率空穴会下滤到最后一层的随机位置而不是最后，破坏完全二叉树的特性。多年不写凭印象直接上手，结果就犯了这个错误。</p>
<p>只实现 push 和 pop 比较方便，却不是效率最高的实现。首先初始化堆调用了 k 次 push，背后是 k 次上滤，总共花费 O(k log(k)) 时间，实际上可以将 k 个元素都添加后做一次遍历调整，虽然仍然是 O(k log(k))，但可以避免很多重复操作。然后是每次先 pop 后 push，背后是一次下滤+上滤，实际上如果直接将新元素覆盖堆顶，一次下滤即可。这样写，复杂度阶没有变化，但是操作堆的时间能大概减半。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">type</span> myHeap []*ListNode</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h myHeap)</span> <span class="title">build</span><span class="params">()</span></span> &#123;</div><div class="line">	k := <span class="built_in">len</span>(h)</div><div class="line">	<span class="keyword">for</span> parent := k/<span class="number">2</span> - <span class="number">1</span>; parent &gt;= <span class="number">0</span>; parent-- &#123;</div><div class="line">		<span class="comment">// bubble down</span></div><div class="line">		<span class="keyword">for</span> &#123;</div><div class="line">			child := parent*<span class="number">2</span> + <span class="number">1</span></div><div class="line">			<span class="keyword">if</span> child &gt;= k &#123;</div><div class="line">				<span class="keyword">break</span></div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> child+<span class="number">1</span> &lt; k &amp;&amp; h[child].Val &gt; h[child+<span class="number">1</span>].Val &#123;</div><div class="line">				child++</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> h[parent].Val &lt;= h[child].Val &#123;</div><div class="line">				<span class="keyword">break</span></div><div class="line">			&#125;</div><div class="line">			h[parent], h[child] = h[child], h[parent]</div><div class="line">			parent = child</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h myHeap)</span> <span class="title">top</span><span class="params">()</span> *<span class="title">ListNode</span></span> &#123;</div><div class="line">	<span class="keyword">return</span> h[<span class="number">0</span>]</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(h myHeap)</span> <span class="title">update</span><span class="params">(i <span class="keyword">int</span>, node *ListNode)</span></span> &#123;</div><div class="line">	h[i] = node</div><div class="line">	k := <span class="built_in">len</span>(h)</div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		child := i*<span class="number">2</span> + <span class="number">1</span></div><div class="line">		<span class="keyword">if</span> child &gt;= k &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> child+<span class="number">1</span> &lt; k &amp;&amp; h[child].Val &gt; h[child+<span class="number">1</span>].Val &#123;</div><div class="line">			child++</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> h[i].Val &lt;= h[child].Val &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		h[i], h[child] = h[child], h[i]</div><div class="line">		i = child</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(hp *myHeap)</span> <span class="title">remove</span><span class="params">(i <span class="keyword">int</span>)</span></span> &#123;</div><div class="line">	h := *hp</div><div class="line">	k := <span class="built_in">len</span>(h)</div><div class="line">	h[i] = h[k<span class="number">-1</span>]</div><div class="line">	<span class="comment">// bubble down</span></div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		child := i*<span class="number">2</span> + <span class="number">1</span></div><div class="line">		<span class="keyword">if</span> child &gt;= k &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> child+<span class="number">1</span> &lt; k &amp;&amp; h[child].Val &gt; h[child+<span class="number">1</span>].Val &#123;</div><div class="line">			child++</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> h[i].Val &lt;= h[child].Val &#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		h[i], h[child] = h[child], h[i]</div><div class="line">		i = child</div><div class="line">	&#125;</div><div class="line">	h[k<span class="number">-1</span>] = <span class="literal">nil</span></div><div class="line">	*hp = h[:k<span class="number">-1</span>]</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">mergeKLists</span><span class="params">(lists []*ListNode)</span> *<span class="title">ListNode</span></span> &#123;</div><div class="line">	h := <span class="built_in">make</span>(myHeap, <span class="number">0</span>)</div><div class="line">	<span class="keyword">for</span> _, l := <span class="keyword">range</span> lists &#123;</div><div class="line">		<span class="keyword">if</span> l != <span class="literal">nil</span> &#123;</div><div class="line">			h = <span class="built_in">append</span>(h, l)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 先添加完 k 个元素再一次性调整</span></div><div class="line">	h.build()</div><div class="line"></div><div class="line">	head := <span class="built_in">new</span>(ListNode)</div><div class="line">	tail := head</div><div class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(h) != <span class="number">0</span> &#123;</div><div class="line">		tail.Next = h.top()</div><div class="line">		tail = tail.Next</div><div class="line">		<span class="keyword">if</span> tail.Next != <span class="literal">nil</span> &#123;</div><div class="line">            <span class="comment">// 还有节点就更新堆顶后下滤</span></div><div class="line">			h.update(<span class="number">0</span>, tail.Next)</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="comment">// 否则删除堆顶然后下滤</span></div><div class="line">			h.remove(<span class="number">0</span>)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> head.Next</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="基准测试"><a href="#基准测试" class="headerlink" title="基准测试"></a>基准测试</h2><p>理论上，贴出来的三份代码，时间复杂度都是 O(N log(k))，在 N 趋向无穷时，低阶的常数和系数无关紧要。然后 N 并不真的趋向无穷，这些低阶的数也有意义。</p>
<p>我们直接跑一下基准测试。</p>
<blockquote>
<p>由于合并会修改链表，所以测试输入的链表每次都要重新生成，这一定程度上增加了额外开销，模糊了对比。为此，在开头加入了只生成测试数据什么都不干的基准测试作为对比。</p>
<p>测试数据除了几组数据量很小的边界条件以外，加入了两组较大的测试数据：</p>
<ol>
<li>100 组数据，最短一组长度只有 1，最长的长度为 100，长度分布比较随机。</li>
<li>100 组数据，第一组为 100 个 1，余下 99 组长度均为 1，数字从 2 一直到 100。</li>
</ol>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">// 只生成数据，不做任何操作，作为对比基线</div><div class="line">Benchmark_listsFromSlices-8                        62496             16898 ns/op            8504 B/op        421 allocs/op</div><div class="line">// 逐个链表并入链表 1，文中没有贴出代码</div><div class="line">Benchmark_mergeKListsInsert-8                      19866             60610 ns/op            8504 B/op        421 allocs/op</div><div class="line">// 两两分组合并法，文中第一份代码</div><div class="line">Benchmark_mergeKListsInsertDAC-8                   56334             21267 ns/op            8504 B/op        421 allocs/op</div><div class="line">// 二叉堆（只用 push, pop），文中第二份代码</div><div class="line">Benchmark_mergeKListsWithHeapPushPop-8             38336             31147 ns/op           12640 B/op        440 allocs/op</div><div class="line">// 二叉堆（调用了更精细的 build, update, remove），文中第三份代码</div><div class="line">Benchmark_mergeKListsWithHeapUpdateRemove-8        47240             25255 ns/op           12640 B/op        440 allocs/op</div><div class="line">// 直接使用 go 内置的堆，文中没有贴出代码，调用逻辑和第三份代码一致</div><div class="line">Benchmark_mergeKListsWithBuiltinHeap-8             29774             40205 ns/op           12800 B/op        445 allocs/op</div><div class="line">PASS</div><div class="line">ok      leetcode        9.621s</div></pre></td></tr></table></figure>
<p>结果一目了然：</p>
<ul>
<li>两两分组合并最快，而且差距相当明显。而且这个实现还很清晰简单，内存使用也少。首选。</li>
<li>其次是自己实现的堆的精细版本，跟只用 push 和 pop 相比拉开了一定差距。</li>
<li>内置的堆毕竟是要做到通用的公共库，性能比较差。但实际开发中为了避免自己实现的耗时和差错，需要用到堆时，推荐优先使用内置库。确实成为性能瓶颈再考虑优化。</li>
</ul>
<hr>
<p><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="知识共享 “署名-非商业性使用-相同方式共享” 4.0 (CC BY-NC-SA 4.0)”许可协议"><br>本文为本人原创，采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="external">知识共享 “署名-非商业性使用-相同方式共享” 4.0 (CC BY-NC-SA 4.0)”许可协议</a>进行许可。<br>本作品可自由复制、传播及基于本作品进行演绎创作。如有以上需要，请留言告知，在文章开头明显位置加上署名（Jayce Chant）、原链接及许可协议信息，并明确指出修改（如有），不得用于商业用途。谢谢合作。<br>请点击查看<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="external">协议</a>的中文摘要。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://jaycechant.info/2020/leetcode-23-merge-k-sorted-lists/" data-id="cke1jx0se0054lsxluvc8zvvs" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="https://jaycechant.info/2020/leetcode-23-merge-k-sorted-lists/#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode/">LeetCode</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/about-child-restraint-system/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          聊聊儿童安全座椅
        
      </div>
    </a>
  
  
    <a href="/2020/the-nine-tones-and-six-tunes-of-cantonese/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">粤语（广州话）的九声六调</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
  </section>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Go-语言实战/">Go 语言实战</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/刷题/">刷题</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/科普/">科普</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/粤语/">粤语</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algorithm/" style="font-size: 13.33px;">Algorithm</a> <a href="/tags/Anaconda/" style="font-size: 10px;">Anaconda</a> <a href="/tags/Android/" style="font-size: 11.67px;">Android</a> <a href="/tags/Android-sdk/" style="font-size: 10px;">Android-sdk</a> <a href="/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/JCE/" style="font-size: 10px;">JCE</a> <a href="/tags/Java/" style="font-size: 11.67px;">Java</a> <a href="/tags/JavaMail/" style="font-size: 10px;">JavaMail</a> <a href="/tags/Jenkins/" style="font-size: 16.67px;">Jenkins</a> <a href="/tags/LeetCode/" style="font-size: 15px;">LeetCode</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 13.33px;">Markdown</a> <a href="/tags/Mathjax/" style="font-size: 10px;">Mathjax</a> <a href="/tags/OJ/" style="font-size: 10px;">OJ</a> <a href="/tags/Octopress/" style="font-size: 10px;">Octopress</a> <a href="/tags/OpenGrok/" style="font-size: 10px;">OpenGrok</a> <a href="/tags/Python/" style="font-size: 16.67px;">Python</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Syncthing/" style="font-size: 10px;">Syncthing</a> <a href="/tags/TDD/" style="font-size: 10px;">TDD</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Ubuntu/" style="font-size: 11.67px;">Ubuntu</a> <a href="/tags/algorithm/" style="font-size: 11.67px;">algorithm</a> <a href="/tags/aliyun/" style="font-size: 10px;">aliyun</a> <a href="/tags/app/" style="font-size: 10px;">app</a> <a href="/tags/blog/" style="font-size: 13.33px;">blog</a> <a href="/tags/byobu/" style="font-size: 11.67px;">byobu</a> <a href="/tags/ctags/" style="font-size: 10px;">ctags</a> <a href="/tags/dep/" style="font-size: 11.67px;">dep</a> <a href="/tags/document/" style="font-size: 10px;">document</a> <a href="/tags/dropbox/" style="font-size: 10px;">dropbox</a> <a href="/tags/file-system/" style="font-size: 10px;">file-system</a> <a href="/tags/flutter/" style="font-size: 10px;">flutter</a> <a href="/tags/git/" style="font-size: 11.67px;">git</a> <a href="/tags/glide/" style="font-size: 10px;">glide</a> <a href="/tags/golang/" style="font-size: 20px;">golang</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/how-to/" style="font-size: 16.67px;">how-to</a> <a href="/tags/jpg/" style="font-size: 10px;">jpg</a> <a href="/tags/json/" style="font-size: 11.67px;">json</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/mirror/" style="font-size: 10px;">mirror</a> <a href="/tags/netdisk/" style="font-size: 10px;">netdisk</a> <a href="/tags/node-js/" style="font-size: 11.67px;">node.js</a> <a href="/tags/nodePPT/" style="font-size: 11.67px;">nodePPT</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/pgyer/" style="font-size: 10px;">pgyer</a> <a href="/tags/pip/" style="font-size: 15px;">pip</a> <a href="/tags/png/" style="font-size: 10px;">png</a> <a href="/tags/practice/" style="font-size: 11.67px;">practice</a> <a href="/tags/presentation/" style="font-size: 11.67px;">presentation</a> <a href="/tags/review/" style="font-size: 10px;">review</a> <a href="/tags/screen/" style="font-size: 11.67px;">screen</a> <a href="/tags/service/" style="font-size: 10px;">service</a> <a href="/tags/skill/" style="font-size: 13.33px;">skill</a> <a href="/tags/smtp/" style="font-size: 10px;">smtp</a> <a href="/tags/software/" style="font-size: 10px;">software</a> <a href="/tags/solution-report/" style="font-size: 10px;">solution-report</a> <a href="/tags/supervisor/" style="font-size: 10px;">supervisor</a> <a href="/tags/thought/" style="font-size: 10px;">thought</a> <a href="/tags/trouble/" style="font-size: 18.33px;">trouble</a> <a href="/tags/unfinished/" style="font-size: 13.33px;">unfinished</a> <a href="/tags/virtualenv/" style="font-size: 10px;">virtualenv</a> <a href="/tags/vsftp/" style="font-size: 10px;">vsftp</a> <a href="/tags/why/" style="font-size: 11.67px;">why</a> <a href="/tags/写作/" style="font-size: 13.33px;">写作</a> <a href="/tags/动态规划/" style="font-size: 10px;">动态规划</a> <a href="/tags/安全/" style="font-size: 10px;">安全</a> <a href="/tags/数据结构/" style="font-size: 10px;">数据结构</a> <a href="/tags/语言表达/" style="font-size: 10px;">语言表达</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">四月 2012</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/golang-in-action-day-1/">Go 语言实战（1）： 初识</a>
          </li>
        
          <li>
            <a href="/2020/leetcode-1504-count-submatrices/">LeetCode 解题：统计全 1 子矩阵</a>
          </li>
        
          <li>
            <a href="/2020/about-child-restraint-system/">聊聊儿童安全座椅</a>
          </li>
        
          <li>
            <a href="/2020/leetcode-23-merge-k-sorted-lists/">LeetCode 解题： 合并 K 个有序链表</a>
          </li>
        
          <li>
            <a href="/2020/the-nine-tones-and-six-tunes-of-cantonese/">粤语（广州话）的九声六调</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://hexo.io/zh-cn/" target="_blank">Hexo主页</a>
          </li>
        
          <li>
            <a href="https://hexo.io/zh-cn/docs/" target="_blank">Hexo文档</a>
          </li>
        
          <li>
            <a href="https://github.com/xiangming/landscape-plus" target="_blank">landscape-plus项目主页</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Jayce Sigit Chant<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/list" class="mobile-nav-link">List</a>
  
    <a href="https://github.com/JayceChant" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/sitemap.xml" class="mobile-nav-link">Sitemap</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<script>
  var disqus_shortname = 'jaycetb';
  
  var disqus_url = 'https://jaycechant.info/2020/leetcode-23-merge-k-sorted-lists/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"/css/bdshare.css"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>



<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
                processEscapes: true
                    
}
  
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
                  
}
    
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                            all[i].SourceElement().parentNode.className += ' has-jax';
                                    
            }
                
        });
</script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<script src="/js/script.js"></script>

</div>
</body>
</html>
