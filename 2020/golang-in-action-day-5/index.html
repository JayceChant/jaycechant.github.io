
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Go 语言实战（5）：流程控制 | 存档Save&amp;Load</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这一期介绍 程序的流程控制，下一期开始引入实战项目：一开始不能太贪心，会先尝试做一个 CLI 工具。">
<meta property="og:type" content="article">
<meta property="og:title" content="Go 语言实战（5）：流程控制">
<meta property="og:url" content="https://jaycechant.info/2020/golang-in-action-day-5/index.html">
<meta property="og:site_name" content="存档Save&Load">
<meta property="og:description" content="这一期介绍 程序的流程控制，下一期开始引入实战项目：一开始不能太贪心，会先尝试做一个 CLI 工具。">
<meta property="og:image" content="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">
<meta property="og:updated_time" content="2020-10-17T16:02:06.585Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Go 语言实战（5）：流程控制">
<meta name="twitter:description" content="这一期介绍 程序的流程控制，下一期开始引入实战项目：一开始不能太贪心，会先尝试做一个 CLI 工具。">
<meta name="twitter:image" content="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">
  
    <link rel="alternative" href="/atom.xml" title="存档Save&amp;Load" type="application/atom+xml">
  
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">存档Save&amp;Load</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">存档意味着放下包袱，搞砸了不过回来读档</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/list">List</a>
        
          <a class="main-nav-link" href="https://github.com/JayceChant">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/sitemap.xml">Sitemap</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
        
      </nav>
      
      <div id="search-form-wrap">
        <form action="" accept-charset="utf-8" class="search-form">
          <input id="searchtext" type="search" name="q" maxlength="20" class="search-form-input" placeholder="Search" onkeypress="if(event.keyCode==13){document.getElementById('searchsub').click();return false;}">
          <input id="searchsub" type="submit" value="" class="search-form-submit" onclick="window.open('https://global.bing.com/search?&amp;q=site:jaycechant.info '+document.getElementById('searchtext').value, '_blank')">
        </form>
      </div>
      
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-golang-in-action-day-5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/golang-in-action-day-5/" class="article-date">
  <time datetime="2020-10-17T07:07:07.000Z" itemprop="datePublished">2020-10-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Go-语言实战/">Go 语言实战</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Go 语言实战（5）：流程控制
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这一期介绍 程序的流程控制，下一期开始引入实战项目：一开始不能太贪心，会先尝试做一个 CLI 工具。</p>
<a id="more"></a>
<h2 id="控制结构"><a href="#控制结构" class="headerlink" title="控制结构"></a>控制结构</h2><p>程序有三种基本的控制结构，分别是 <strong>顺序、分支（选择） 和 循环</strong> 。其中顺序结构不需要任何特殊的语句，程序语句按顺序执行即可。需要控制语句的是剩下两种结构。</p>
<p>注意，Go 语言的代码块不能省略大括号（<code>{}</code>，又叫花括号），哪怕只有一行。这是为了保持语言的可伸缩性，使得语言在不同规模和不同的上下文都不会出现歧义。与之相反，条件表达式处于关键字和左大括号 <code>{</code> 中间，而且总是只有一行，所以不需要加括号 <code>()</code> 。</p>
<p>无论是分支结构还是循环结构，都需要引入条件表达式，来控制执行路径。由于 Go 取消掉了一些操作的值，使得它们从表达式变成了语句，导致相应的操作无法直接加入条件表达式。估计是因为这样，Go 允许在条件表达式前增加一个简单语句，中间用分号 <code>;</code> 隔开，也就是这样 <code>简单语句;条件表达式</code>。注意，只能是一句，如果是更复杂的效果，还是应该在进入控制结构之前，通过多个语句先完成操作。</p>
<p>其中简单语句可以是：</p>
<ul>
<li>空白。</li>
<li>表达式。</li>
<li>通道（<code>chan</code>）的发送语句。</li>
<li>自增自减。</li>
<li>赋值。</li>
<li>变量的短声明。</li>
</ul>
<p>变量短声明很可能是用得最多的语句，因为在这里声明变量可以限制变量的作用域，仅限于控制结构内部，但需要注意变量遮盖（shadow）的问题：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">a := <span class="number">1</span></div><div class="line"><span class="keyword">if</span> a &lt; <span class="number">10</span> &#123;</div><div class="line">    a = <span class="number">10</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 外层 a 被修改，是 10</span></div><div class="line">fmt.Println(a)</div><div class="line"></div><div class="line">b := <span class="number">1</span></div><div class="line"><span class="keyword">if</span> b := <span class="number">2</span>; b &lt; <span class="number">10</span> &#123; <span class="comment">// 声明了一个新的变量 b，作用域为整个 if-else 控制结构</span></div><div class="line">    b = <span class="number">10</span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// 如果条件满足执行到这（例如 b:= 11），这里访问的也是内层 b</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 外层 b 仍然是 1</span></div><div class="line">fmt.Println(b)</div></pre></td></tr></table></figure>
<h3 id="1-分支结构"><a href="#1-分支结构" class="headerlink" title="1. 分支结构"></a>1. 分支结构</h3><p>分支结构会指定一个到多个条件，通过测试哪些条件得到满足来决定执行路径。Go 里面可以实现分支结构的语句有：</p>
<h4 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a>if 语句</h4><p>Go 的 if 语句跟其它语言差别不大，直接上例子。</p>
<p>细节差别有：表达式不用括号，代码块不能省略大括号，<code>else if</code> 不像一些语言可以写成 <code>elif</code> （Go 很省关键字）。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// if 的条件表达式只能为 布尔 bool 类型</span></div><div class="line"></div><div class="line"><span class="comment">// 1. 只有 if 子句</span></div><div class="line"><span class="keyword">if</span> 布尔表达式 &#123; <span class="comment">// 不像 C 语言，布尔表达式不用加括号</span></div><div class="line">    <span class="comment">// 条件为真才执行</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 2. 加上 else 子句</span></div><div class="line"><span class="keyword">if</span> 布尔表达式 &#123;</div><div class="line">    <span class="comment">// 表达式为真执行这里</span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// 否则执行这里</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 3. else 后面可以嵌套更多 if 语句</span></div><div class="line"><span class="keyword">if</span> 条件<span class="number">1</span> &#123;</div><div class="line">    <span class="comment">// 条件1 为真</span></div><div class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> 条件<span class="number">2</span> &#123;</div><div class="line">    <span class="comment">// 条件2 为真</span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// 都不满足</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a>switch 语句</h4><p>只有一两个判断条件时， if 语句是很好的选择；但当分支多了起来，大量的 <code>else if</code> 会导致代码冗长又难以维护。这时 switch 语句是更好的选择。</p>
<p>可能是为了省关键字，switch 实际上有两个用法，分别是表达式 switch，和类型 switch。无论哪一种，switch 语句都会从上到下逐个测试 case，执行第一个满足的分支。</p>
<h5 id="表达式-switch："><a href="#表达式-switch：" class="headerlink" title="表达式 switch："></a>表达式 switch：</h5><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 表达式 switch 也有两种用法</span></div><div class="line"></div><div class="line"><span class="comment">// 1. 经典 switch-case 用法，表达式可以为任意类型，不限定布尔型</span></div><div class="line"><span class="comment">// case 后面的值类型必须跟表达式的类型是可比较的</span></div><div class="line"><span class="keyword">switch</span> 表达式 &#123;</div><div class="line"><span class="keyword">case</span> 值<span class="number">1</span>:</div><div class="line">    <span class="comment">// 表达式 == 值1 时执行</span></div><div class="line">    <span class="comment">// 可以是多行语句</span></div><div class="line"><span class="keyword">case</span> 值<span class="number">2</span>:</div><div class="line">    <span class="comment">// 表达式 == 值2 时执行</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="comment">// default 子句可选，前面所有 case 都不满足时执行</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 2. 接近某些语言的 switch-cond 的用法</span></div><div class="line"><span class="comment">// 大量 if-else 的分支结构可以改写成这种形式</span></div><div class="line"><span class="keyword">switch</span> &#123; <span class="comment">// 没有表达式，但如果有需要，仍然可以保留一个简单语句，后面加分号表明省略了表达式</span></div><div class="line"><span class="keyword">case</span> 布尔表达式<span class="number">1</span>: <span class="comment">// 这里的表达式只能为 布尔型</span></div><div class="line">    <span class="comment">// 表达式1 为 true 时执行</span></div><div class="line"><span class="keyword">case</span> 布尔表达式<span class="number">2</span>:</div><div class="line">    <span class="comment">// 表达式2 为 true 时执行</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="comment">// 同样是所有 case 都不满足时执行</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="类型-switch："><a href="#类型-switch：" class="headerlink" title="类型 switch："></a>类型 switch：</h5><p>类型 switch 涉及类型断言。</p>
<p>Go 的接口变量允许储存任何满足接口的类型的值，举例说类型 <code>T</code> 满足接口 <code>I</code> ，那么 <code>T</code> 的值 <code>t</code> 就可以赋值给 <code>I</code> 的变量 <code>i</code> ：<code>var i I = t</code> 。</p>
<p>而将接口变量 <code>i</code> 转换为具体的类型 <code>T</code> 时，除了显式的类型转换 <code>t = T(i)</code> ，还可以用 <strong>类型断言</strong> <code>t = i.(T)</code> 。两者之间一个明显的差别是，类型转换需要开发者自行确保可以转换，否则就会产生一个运行时 panic；而类型断言有安全形式 <code>t, ok = i.(T)</code> ，如果转换失败，<code>ok</code> 的值为 <code>false</code> ，并不会产生 panic。不过这里不是讨论类型断言，不详细展开。</p>
<p>类型 switch 借用了类型断言的形式，但是括号里的不是某个具体的类型，而是关键字 <code>type</code> ，也就是 <code>i.(type)</code> ；然后 case 后面接的，就不再是值，而是具体的类型。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">switch i.(type) &#123;</div><div class="line">case 类型1:</div><div class="line">    // 如果 i 的值是 类型1 时执行</div><div class="line">case 类型2:</div><div class="line">    // i 为类型2 时执行</div><div class="line">case nil:</div><div class="line">    // 除了类型，还能判断 i 是否为 nil</div><div class="line">default:</div><div class="line">    // 上述 case 均不满足时执行</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 类型 switch 还可以包含一个短声明，提供一个转换后的变量供 switch 结构体内部调用</div><div class="line">switch x := i.(type) &#123;</div><div class="line">case nil:</div><div class="line">    // i 为 nil，没有动态类型信息，x 的类型仍然是 i 的接口类型</div><div class="line">	fmt.Println("i 为 nil")</div><div class="line">case int:</div><div class="line">    // x 的类型是 int</div><div class="line">	fmt.Println(x)</div><div class="line">case func(int) float64:</div><div class="line">    // x 的类型是签名为 func(int) float64 的函数</div><div class="line">    fmt.Println(x(1))</div><div class="line">case bool, string:</div><div class="line">    // 条件类型不止一个，无法确定命中的类型，x 的类型没有做转换，仍是 i 的接口类型</div><div class="line">    fmt.Println(x)</div><div class="line">default:</div><div class="line">    // i 虽然不为 nil，但是没有命中任何类型，x 的类型仍然是 i 的接口类型</div><div class="line">	fmt.Println("意料以外的类型")</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="与-C-风格-switch-的差别"><a href="#与-C-风格-switch-的差别" class="headerlink" title="与 C 风格 switch 的差别"></a>与 C 风格 switch 的差别</h5><p>所以总结下来，switch 语句实际上包含了</p>
<ul>
<li>C 风格的 switch-case 经典用法。</li>
<li>scheme 风格的 switch-cond 用法（但是子句还是用 <code>case</code> 关键字）。</li>
<li>类型断言用法。</li>
</ul>
<p>不熟悉的话，还挺容易混淆的。</p>
<p>除此之外，虽然关键字和结构整体都是沿袭 C 风格的 switch 语句，细节上还是有几个比较重要的差异：</p>
<ul>
<li><p>默认 break：</p>
<p>  C 风格的 switch，case 之间的默认行为是 fallthrough。换言之，命中的 case 只是一个入口，如果没有遇到 break 语句，接下去的每个 case 都会执行，直到结束。</p>
<p>  但实际上，需要 fallthrough 的情况非常少，大多数情况下，我们都只是希望只执行命中的 case，这就导致 case 和 break 总是成对出现，非常啰嗦。</p>
<p>  Go 将 switch 的默认行为改为 break，需要 fallthrough 时，再在 case 的结尾显示写一个 <code>fallthrough</code>。注意类型 switch 不允许 fallthrough。</p>
</li>
<li><p>case 不限定为常量值：</p>
<p>  C 风格的 case 后面，只能接一个 常量或字面量的值。Go 无此限制。在经典用法中，值可以是常量，也可以是变量或者表达式。</p>
</li>
<li><p>case 后面允许接多个条件：</p>
<p>  因为 C 风格 switch 默认 fallthrough，当多个条件共享相同的代码时，只要将多个 case 顺序写在一起，代码放在最后一个 case，就可以共享代码逻辑。</p>
</li>
</ul>
<p>下面看一下例子：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// C 代码</span></div><div class="line"><span class="keyword">switch</span> (x) &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">1</span>:</div><div class="line"><span class="keyword">case</span> <span class="number">2</span>:</div><div class="line"><span class="keyword">case</span> <span class="number">3</span>:</div><div class="line">    <span class="comment">// 这里的代码被 3 个case 共享</span></div><div class="line">    <span class="keyword">break</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Go 的默认行为变成了 break，不能这样写了；但是多个条件共享代码反而更容易了，因为 case 后面可以接多个条件：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Go 代码</span></div><div class="line"></div><div class="line"><span class="comment">// 经典 C 风格</span></div><div class="line"><span class="keyword">switch</span> x &#123;</div><div class="line"><span class="keyword">case</span> <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>:</div><div class="line">    <span class="comment">// x 等于任意一个数都执行</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// cond 风格</span></div><div class="line"><span class="keyword">switch</span> &#123;</div><div class="line"><span class="keyword">case</span> x &lt; <span class="number">0</span>, x == <span class="number">0</span>, x &gt; <span class="number">0</span>:</div><div class="line">    <span class="comment">// 任意一个条件为 true 都执行</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">switch</span> x := i.(<span class="keyword">type</span>) &#123;</div><div class="line"><span class="keyword">case</span> <span class="keyword">bool</span>, <span class="keyword">int</span>, <span class="keyword">string</span>:</div><div class="line">    <span class="comment">// i 的类型是其中任意一个类型都执行</span></div><div class="line">    <span class="comment">// 但是类型不止一个时，x 不会转换类型</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>例子中的任意一种写法，都可以；但是三种写法不能混用。</p>
<h4 id="select-语句"><a href="#select-语句" class="headerlink" title="select 语句"></a>select 语句</h4><p>select 语句可以说是通信版的 switch，也可以说是借鉴了 C 语言 select 函数的含义（虽然读写的对象不同），并且升格成了关键字：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> &#123;</div><div class="line"><span class="keyword">case</span> a = &lt;- ch1: <span class="comment">// 从通道中接收（读）</span></div><div class="line">    <span class="comment">// 读到消息之后的操作</span></div><div class="line"><span class="keyword">case</span> ch2 &lt;- b: <span class="comment">// 发送消息（写）</span></div><div class="line">    <span class="comment">// 发送成功之后的操作</span></div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="comment">// 以上 case 都阻塞时，执行这里</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>select 语句里的每个 case 后面都接一个通信操作，要么接收要么发送。</p>
<p>执行时，会在可以执行的 case 中 <strong>随机</strong> 执行一个（注意是随机，switch 则是从上到下测试第一个满足的），其它 case 忽略。如果没有可以执行的 case，则会执行 default 子句；没有可执行的 case 且没有 default 子句，则会阻塞直到有可以执行的 case 为止。所以如果不想阻塞，就一定要增加 default 子句。</p>
<p>select 语句常常嵌套在循环结构里，实现对通道轮询的效果。详细用法在介绍并发和通道时再展开。</p>
<h3 id="2-循环结构"><a href="#2-循环结构" class="headerlink" title="2. 循环结构"></a>2. 循环结构</h3><p>在 Go 里面实现循环结构，只有一个 for 语句。看起来这又是省关键字的结果。Go 的不同写法，可以实现 C 风格里的 for、while 和 do-while ，甚至还有 Java 的 for-each 或 Python 的 for-range 效果：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1. 经典写法</span></div><div class="line"><span class="comment">// 初始化语句和步进语句都是简单语句，循环条件必须是布尔表达式</span></div><div class="line"><span class="comment">// 3 个部分可以任意省略，但是分号要保留（这才看得出来没省略的是哪部分）</span></div><div class="line"><span class="comment">// 循环条件如果省略，等同于 true，变成死循环，需要内部有 break 语句 或 return 语句 结束循环</span></div><div class="line"><span class="keyword">for</span> 初始化语句; 循环条件（布尔表达式）; 步进语句 &#123;</div><div class="line">    <span class="comment">// 循环体</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 2. while 写法</span></div><div class="line"><span class="comment">// 如果只保留循环条件，用法等同于 while</span></div><div class="line"><span class="comment">// 同样的，如果省略循环条件，就会变成死循环</span></div><div class="line"><span class="keyword">for</span> 循环条件 &#123;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 3. do-while 写法</span></div><div class="line"><span class="comment">// do&#123;...&#125;while(循环条件) 和 while 相比，是把判断后置，无论如何至少执行一次</span></div><div class="line"><span class="comment">// 可以通过死循环再 break/return 跳出来模拟</span></div><div class="line"><span class="keyword">for</span> &#123;</div><div class="line">    <span class="comment">// 循环体</span></div><div class="line">    </div><div class="line">    <span class="comment">// 不满足继续循环的条件时退出</span></div><div class="line">    <span class="keyword">if</span> !循环条件 &#123;</div><div class="line">        <span class="keyword">break</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 4. for-range 写法</span></div><div class="line"><span class="keyword">for</span> i, x = <span class="keyword">range</span> 表达式 &#123;</div><div class="line">    <span class="comment">// 循环体</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>range 表达式的右边，可以是 数组、数组的指针、切片（slice）、字符串（<code>string</code>）、映射（<code>map</code>）或者可接收（可读）的通道（<code>chan</code>）。换句话说，它们的成员元素可以枚举。</p>
<p>range 表达式本质上是一个语法糖，实际上底层实现还是展开成普通的 for 循环，帮你枚举对象里的成员元素。对于通道以外的类型而言，展开后的三个部分可以近似看作：取第一个元素（初始化）；没遍历到最后一个元素（循环条件）；取下一个元素（步进）。而对于通道而言，循环条件变成了通道还没关闭。</p>
<p>详细用法，具体在每个类型里介绍。这里只提醒两点：</p>
<ul>
<li><p>range 表达式获得的变量都是拷贝，对变量的修改不会影响集合中原来的值。（这个的原理会专门找一期介绍值和引用）如果想修改集合里的值，还是要老老实实地遍历下标（或者 map 的 key），然后直接修改索引值 <code>s[i] = newVal</code> 。</p>
</li>
<li><p>多数的 range 表达式可以返回不止一个值。你既可两个值都赋值给变量使用，也可以只要其中一个；丢弃第二个值可以直接忽略 <code>for i := range s {...}</code> ，而丢弃第一个值则必须显式赋值给空白标识符 <code>for _, v := range s {...}</code> 。</p>
<p>  | 类型                       | 类型定义            | 第一个值             | 第二个值                           |<br>  | ————————– | ——————- | ——————– | ———————————- |<br>  | 数组、数组指针 或 切片 <code>a</code> | <code>[n]E, *[n]E, []E</code>  | 下标 <code>i</code> ，类型<code>int</code> | 下标对应的元素 <code>a[i]</code>，类型 <code>E</code>    |<br>  | 字符串 <code>s</code>                 | <code>string</code>            | 下标 <code>i</code> ，类型<code>int</code> | 下标对应的字节 <code>s[i]</code>，类型 <code>byte</code> |<br>  | 映射 <code>m</code>                   | <code>map[K]V</code>           | 键值<code>k</code>，类型<code>K</code>     | 键值对应的元素 <code>m[k]</code>，类型<code>V</code>     |<br>  | 通道 <code>c</code>                   | <code>chan E, &lt;- chan E</code> | 元素 <code>e</code>，类型 <code>E</code>   | -                                  |</p>
</li>
</ul>
<p>无论是哪一种写法，都可以看作是经典写法的变体（省略了某些部分），所以执行流程都是相同的：</p>
<ol>
<li>执行初始化（init）语句；</li>
<li>判断循环条件（condition），满足则进入循环，否则退出（循环条件省略等同于 true）；</li>
<li>执行循环体；</li>
<li>执行步进（post）语句，并回到 2。</li>
</ol>
<h3 id="3-控制语句"><a href="#3-控制语句" class="headerlink" title="3. 控制语句"></a>3. 控制语句</h3><p>控制语句主要针对循环结构，除了按照 for 语句的规则执行，还可以加入一些控制语句，改变执行的方向。</p>
<p>分别有 <code>break</code> 、<code>continue</code> 和 <code>goto</code> 三种语句。这三种语句的用法跟 C 家族语言基本一致：</p>
<ul>
<li><p><code>break</code> 跳出当前的循环，并继续执行循环之后的语句。<code>break</code> 也可以用于跳出 switch 代码块，但由于 Go 的 switch 默认会在 case 结尾退出，所以 switch 里 <code>break</code> 用得比较少。</p>
<p>  注意有多层循环嵌套时，<code>break</code> 只会跳出当前所在的内层循环。</p>
<p>  如果想跳出在外层循环，需要在跳出的循环前面加标签（label），<code>break</code> 后面加上标签作为目标，就会跳出对应的循环。</p>
</li>
<li><p><code>continue</code> 中止当前循环的执行，改为执行步进语句，（在同一个循环结构内）开始执行下一次循环。</p>
<p>  跟 <code>break</code> 类似，有多层循环嵌套时，<code>continue</code> 只会影响当前所在的内层循环。</p>
<p>  如果想开始外层的下一次循环，同样可以用循环前的标签作为 <code>continue</code> 的目标。</p>
</li>
<li><p><code>goto</code> 必须配合标签 （label） 使用。<code>goto</code> 语句会无条件跳转到（同一个函数内部） 标签 声明的位置继续执行。<code>goto</code> 的使用不限于某种控制结构。实际上，靠 if-else + <code>goto</code> 可以实现任意的控制结构。</p>
<p>  <code>goto</code> 用好了可以用很少的代码实现复杂的逻辑控制；但是用不好的话，会导致执行流程混乱，造成理解和调试困难。结构化程序设计一般不鼓励使用 <code>goto</code> ，多数后来的高级语言也都不提供 <code>goto</code> 语句。</p>
</li>
</ul>
<h4 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h4><p>标签（label）本质上就是一个 标识符，只是它指向的不是一个常量或变量，而是一个程序的位置（指向声明位置下一行代码）；有效作用域总是为同一个函数体，不受嵌套的代码块限制（标签是 Go 里面唯一一种永远都是函数级作用域的标识符）。标签不占用常量和变量的命名，允许标签跟其它标识符重名，但强烈建议不要重名。</p>
<p>标签声明时单独一行，后面接一个冒号 <code>LABEL:</code>；使用时作为 <code>break</code> 、<code>continue</code> 和 <code>goto</code> 的目标。为了区别于其它标识符，标签一般全大写。</p>
<p> <code>goto</code> 的目标标签可以声明在函数内的任意地方，跳转的限制只有两条：</p>
<ul>
<li>不能跨函数跳转，包括函数内嵌套的函数和闭包。</li>
<li>不能（向后）跳过变量声明（可以跳过常量声明）。因为跳过的变量后续引用到会报错。修改的方法是把变量声明提前到跳转区间以外。</li>
</ul>
<p>相对应地，作为 <code>break</code> 和 <code>continue</code> 目标的标签多一个限制：标签必须声明在外层某个循环前面（相当于指向该循环），用来表明要跳出或者继续的是哪个循环。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">LABEL1:</div><div class="line">a := <span class="number">1</span></div><div class="line">LOOP_I:</div><div class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; I; i++ &#123;</div><div class="line">LOOP_J:</div><div class="line">    <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; J; j++ &#123;</div><div class="line">        <span class="keyword">for</span> k := <span class="number">0</span>; k &lt; K; k++ &#123;</div><div class="line">	        <span class="comment">// ...</span></div><div class="line">    	    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">                <span class="comment">// LOOP_J 也是合法的</span></div><div class="line">                <span class="comment">// 但使用 LABEL1 和 LABEL2 以及 LOOP2 都无法编译通过</span></div><div class="line">        	    <span class="keyword">break</span> LOOP_I</div><div class="line">	        &#125;</div><div class="line">        </div><div class="line">    	    <span class="keyword">if</span> nextj &#123;</div><div class="line">                <span class="comment">// 跟 break 类似，选择 LOOP_I 和 LOOP_J 以外的标签都无法编译通过</span></div><div class="line">        	    <span class="keyword">continue</span> LOOP_J</div><div class="line">	        &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">LABEL2:</div><div class="line"><span class="comment">// ...</span></div><div class="line">LOOP2:</div><div class="line"><span class="keyword">for</span> &#123;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="写在后面"><a href="#写在后面" class="headerlink" title="写在后面"></a>写在后面</h2><p>写教程可以深入细节，一直到内部的原理。也可以不多解释直接模仿着跑起来，多见几个例子再回头解释。</p>
<p>前者似乎所有人都可以看，新手打基础，老手查漏补缺。但新手可能还没建立起直观的认识，一上来就太多细节，也许就懵了。这个系列既然起了『实战』之名，按理说应该接近后者。直接来几个实例，先跑起来，再介绍里面分别是什么。有 C 家族语言经验的朋友，甚至都不需要解释，从例子里大概就能体会差异，可以用来干些简单的活。</p>
<p>写到第四期，似乎越来越理论和细节了。这并不是我的本意。</p>
<p>这样固然是满足了一部分我自己深入了解 Go 的需要；另一方面，也是希望可以迁就一部分缺少 C 家族语言经验的读者。（是否有没有编程经验的读者呢？因为缺乏来自你们的反馈，读者的面目在我这其实是模糊的。）这就需要在第一个『实战项目』之前先铺垫一些『基础知识』。虽说是基础，凡是涉及的主题，我都希望写透一些，不太愿意把一个主题拆得零碎，先笼统过一遍，下次展开一点，后面再来深入。</p>
<p>但这样下去，与其看我啰嗦，还不如直接看 Go 官方的语言规范来得简洁清晰。虽然我不断强调大家可以当参考资料跳着看；但是从详尽的资料中筛选关键信息不正是我该做的事吗。幸好写到这一期，开发一个最基本的程序所需要的知识勉强是够了，所以下一期赶紧开始进入一个实战程序吧。</p>
<p>开发中肯定还会遇到没介绍过的内容，等到毫无遗漏介绍完再开始是不现实的，这时提问答疑和群内互助就足以解决问题了。开发中遇到的问题，后面正好着重介绍。</p>
<p>这里给出 Go 语言官方的规范文档，大家也可以自行查阅。</p>
<p>官网：<a href="https://golang.org/ref/spec" target="_blank" rel="external">https://golang.org/ref/spec</a></p>
<p>官方提供给国内访问的镜像：<a href="https://golang.google.cn/ref/spec" target="_blank" rel="external">https://golang.google.cn/ref/spec</a></p>
<hr>
<p><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="知识共享 “署名-非商业性使用-相同方式共享” 4.0 (CC BY-NC-SA 4.0)”许可协议"><br>本文为本人原创，采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="external">知识共享 “署名-非商业性使用-相同方式共享” 4.0 (CC BY-NC-SA 4.0)”许可协议</a>进行许可。<br>本作品可自由复制、传播及基于本作品进行演绎创作。如有以上需要，请留言告知，在文章开头明显位置加上署名（Jayce Chant）、原链接及许可协议信息，并明确指出修改（如有），不得用于商业用途。谢谢合作。<br>请点击查看<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="external">协议</a>的中文摘要。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://jaycechant.info/2020/golang-in-action-day-5/" data-id="ckgus5umj003u4cxlj6ki0p1l" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="https://jaycechant.info/2020/golang-in-action-day-5/#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/">golang</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/golang-in-action-day-6/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          Go 语言实战（6）：命令行程序（1）
        
      </div>
    </a>
  
  
    <a href="/2020/golang-in-action-day-4/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">Go 语言实战（4）：运算符</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
  </section>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Go-语言实战/">Go 语言实战</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/刷题/">刷题</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/科普/">科普</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/粤语/">粤语</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Algorithm/" style="font-size: 13.33px;">Algorithm</a> <a href="/tags/Anaconda/" style="font-size: 10px;">Anaconda</a> <a href="/tags/Android/" style="font-size: 11.67px;">Android</a> <a href="/tags/Android-sdk/" style="font-size: 10px;">Android-sdk</a> <a href="/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/JCE/" style="font-size: 10px;">JCE</a> <a href="/tags/Java/" style="font-size: 11.67px;">Java</a> <a href="/tags/JavaMail/" style="font-size: 10px;">JavaMail</a> <a href="/tags/Jenkins/" style="font-size: 16.67px;">Jenkins</a> <a href="/tags/LeetCode/" style="font-size: 15px;">LeetCode</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 13.33px;">Markdown</a> <a href="/tags/Mathjax/" style="font-size: 10px;">Mathjax</a> <a href="/tags/OJ/" style="font-size: 10px;">OJ</a> <a href="/tags/Octopress/" style="font-size: 10px;">Octopress</a> <a href="/tags/OpenGrok/" style="font-size: 10px;">OpenGrok</a> <a href="/tags/Python/" style="font-size: 16.67px;">Python</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Syncthing/" style="font-size: 10px;">Syncthing</a> <a href="/tags/TDD/" style="font-size: 10px;">TDD</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Ubuntu/" style="font-size: 11.67px;">Ubuntu</a> <a href="/tags/algorithm/" style="font-size: 11.67px;">algorithm</a> <a href="/tags/aliyun/" style="font-size: 10px;">aliyun</a> <a href="/tags/app/" style="font-size: 10px;">app</a> <a href="/tags/blog/" style="font-size: 13.33px;">blog</a> <a href="/tags/byobu/" style="font-size: 11.67px;">byobu</a> <a href="/tags/ctags/" style="font-size: 10px;">ctags</a> <a href="/tags/dep/" style="font-size: 11.67px;">dep</a> <a href="/tags/document/" style="font-size: 10px;">document</a> <a href="/tags/dropbox/" style="font-size: 10px;">dropbox</a> <a href="/tags/file-system/" style="font-size: 10px;">file-system</a> <a href="/tags/flutter/" style="font-size: 10px;">flutter</a> <a href="/tags/git/" style="font-size: 11.67px;">git</a> <a href="/tags/glide/" style="font-size: 10px;">glide</a> <a href="/tags/golang/" style="font-size: 20px;">golang</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/how-to/" style="font-size: 16.67px;">how-to</a> <a href="/tags/jpg/" style="font-size: 10px;">jpg</a> <a href="/tags/json/" style="font-size: 11.67px;">json</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/mirror/" style="font-size: 10px;">mirror</a> <a href="/tags/netdisk/" style="font-size: 10px;">netdisk</a> <a href="/tags/node-js/" style="font-size: 11.67px;">node.js</a> <a href="/tags/nodePPT/" style="font-size: 11.67px;">nodePPT</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/pgyer/" style="font-size: 10px;">pgyer</a> <a href="/tags/pip/" style="font-size: 15px;">pip</a> <a href="/tags/png/" style="font-size: 10px;">png</a> <a href="/tags/practice/" style="font-size: 11.67px;">practice</a> <a href="/tags/presentation/" style="font-size: 11.67px;">presentation</a> <a href="/tags/review/" style="font-size: 10px;">review</a> <a href="/tags/screen/" style="font-size: 11.67px;">screen</a> <a href="/tags/service/" style="font-size: 10px;">service</a> <a href="/tags/skill/" style="font-size: 13.33px;">skill</a> <a href="/tags/smtp/" style="font-size: 10px;">smtp</a> <a href="/tags/software/" style="font-size: 10px;">software</a> <a href="/tags/solution-report/" style="font-size: 10px;">solution-report</a> <a href="/tags/supervisor/" style="font-size: 10px;">supervisor</a> <a href="/tags/thought/" style="font-size: 10px;">thought</a> <a href="/tags/trouble/" style="font-size: 18.33px;">trouble</a> <a href="/tags/unfinished/" style="font-size: 13.33px;">unfinished</a> <a href="/tags/virtualenv/" style="font-size: 10px;">virtualenv</a> <a href="/tags/vsftp/" style="font-size: 10px;">vsftp</a> <a href="/tags/why/" style="font-size: 11.67px;">why</a> <a href="/tags/写作/" style="font-size: 13.33px;">写作</a> <a href="/tags/动态规划/" style="font-size: 10px;">动态规划</a> <a href="/tags/安全/" style="font-size: 10px;">安全</a> <a href="/tags/数据结构/" style="font-size: 10px;">数据结构</a> <a href="/tags/翻译/" style="font-size: 13.33px;">翻译</a> <a href="/tags/语言表达/" style="font-size: 10px;">语言表达</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">四月 2012</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/golang-in-action-day-7/">Go 语言实战（7）：命令行程序（2）</a>
          </li>
        
          <li>
            <a href="/2020/three-things-to-do-when-you-hit-a-crossroads-translation/">遇到十字路口，你要做的三件事（翻译）</a>
          </li>
        
          <li>
            <a href="/2020/golang-in-action-day-6/">Go 语言实战（6）：命令行程序（1）</a>
          </li>
        
          <li>
            <a href="/2020/golang-in-action-day-5/">Go 语言实战（5）：流程控制</a>
          </li>
        
          <li>
            <a href="/2020/golang-in-action-day-4/">Go 语言实战（4）：运算符</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://hexo.io/zh-cn/" target="_blank">Hexo主页</a>
          </li>
        
          <li>
            <a href="https://hexo.io/zh-cn/docs/" target="_blank">Hexo文档</a>
          </li>
        
          <li>
            <a href="https://github.com/xiangming/landscape-plus" target="_blank">landscape-plus项目主页</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Jayce Sigit Chant<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/list" class="mobile-nav-link">List</a>
  
    <a href="https://github.com/JayceChant" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/sitemap.xml" class="mobile-nav-link">Sitemap</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<script>
  var disqus_shortname = 'jaycetb';
  
  var disqus_url = 'https://jaycechant.info/2020/golang-in-action-day-5/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"/css/bdshare.css"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>



<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
                processEscapes: true
                    
}
  
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
                  
}
    
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                            all[i].SourceElement().parentNode.className += ' has-jax';
                                    
            }
                
        });
</script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<script src="/js/script.js"></script>

</div>
</body>
</html>
