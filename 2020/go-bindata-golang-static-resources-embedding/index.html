
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>go-bindata：go 语言的静态资源嵌入 | 存档Save&amp;Load</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="单文件无依赖发布，是 go 语言一项杀手级特性。看着不怎么起眼，但被应用发布和运维折磨过的朋友，会明白这意味着什么。
可没高兴多久，发现应用还是要引入各种静态资源。这时就要拿出 go-bindata 了。">
<meta property="og:type" content="article">
<meta property="og:title" content="go-bindata：go 语言的静态资源嵌入">
<meta property="og:url" content="https://jaycechant.info/2020/go-bindata-golang-static-resources-embedding/index.html">
<meta property="og:site_name" content="存档Save&Load">
<meta property="og:description" content="单文件无依赖发布，是 go 语言一项杀手级特性。看着不怎么起眼，但被应用发布和运维折磨过的朋友，会明白这意味着什么。
可没高兴多久，发现应用还是要引入各种静态资源。这时就要拿出 go-bindata 了。">
<meta property="og:image" content="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">
<meta property="og:updated_time" content="2020-04-03T16:48:54.728Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="go-bindata：go 语言的静态资源嵌入">
<meta name="twitter:description" content="单文件无依赖发布，是 go 语言一项杀手级特性。看着不怎么起眼，但被应用发布和运维折磨过的朋友，会明白这意味着什么。
可没高兴多久，发现应用还是要引入各种静态资源。这时就要拿出 go-bindata 了。">
<meta name="twitter:image" content="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">
  
    <link rel="alternative" href="/atom.xml" title="存档Save&amp;Load" type="application/atom+xml">
  
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">存档Save&amp;Load</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">存档意味着放下包袱，搞砸了不过回来读档</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/list">List</a>
        
          <a class="main-nav-link" href="https://github.com/JayceChant">Github</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/sitemap.xml">Sitemap</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        
      </nav>
      
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-go-bindata-golang-static-resources-embedding" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/go-bindata-golang-static-resources-embedding/" class="article-date">
  <time datetime="2020-04-02T06:28:09.000Z" itemprop="datePublished">2020-04-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      go-bindata：go 语言的静态资源嵌入
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>单文件无依赖发布，是 go 语言一项杀手级特性。看着不怎么起眼，但被应用发布和运维折磨过的朋友，会明白这意味着什么。</p>
<p>可没高兴多久，发现应用还是要引入各种静态资源。这时就要拿出 go-bindata 了。</p>
<a id="more"></a>
<blockquote>
<p>本文没有一开始给出最佳实践，而是从最简单的做法开始，展示一点一点改进的过程。长度尽量精简，希望你看到最后。</p>
</blockquote>
<h2 id="壹、是什么"><a href="#壹、是什么" class="headerlink" title="壹、是什么"></a>壹、是什么</h2><p>项目主页：<a href="https://github.com/go-bindata/go-bindata" target="_blank" rel="external">https://github.com/go-bindata/go-bindata</a></p>
<p>官方自述：</p>
<blockquote>
<p>This package converts any file into managable Go source code. Useful for embedding binary data into a go program. The file data is optionally gzip compressed before being converted to a raw byte slice.</p>
</blockquote>
<p>简单说，将 <strong>任意</strong> 文件转成 go 源码。它还可以帮你把数据 <strong>压缩一下</strong> 。常用于将数据嵌入程序。</p>
<p>这些资源文件变成源码之后，数据储存在字节切片中 (raw byte slice)，只需要导入生成的源码，调用几个简单的函数就可访问，反正比 文件IO 来得 <strong>简单和快</strong> 。因为是源码，也会加入编译，最后 <strong>包含在可执行文件中</strong> ，发布时也就不再需要带着资源文件。</p>
<p>原文写的是二进制数据，大概作者认为纯文本和字面量本身就可以在程序中声明。但下面你会看到，即使是这些数据，也有使用 go-bindata 的必要。</p>
<h2 id="贰、安装"><a href="#贰、安装" class="headerlink" title="贰、安装"></a>贰、安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">go get -u github.com/go-bindata/go-bindata/...</div></pre></td></tr></table></figure>
<p>一行命令，没什么好说的。三个点是指检查并安装所有子目录（如果有可以编译的 main 函数）。实际上提供的 CLI 工具在 go-bindata 子目录里，也就是 <code>github.com/go-bindata/go-bindata/go-bindata/</code> ，三个 go-bindata 从前到后分别是 organ 名、项目名、目录名。</p>
<p>你可能会发现，这里提供的地址，跟其他一些文章给的不一样。为了不把前面拖长，背后的故事放到了 <strong>最后</strong> 。</p>
<h2 id="叁、使用"><a href="#叁、使用" class="headerlink" title="叁、使用"></a>叁、使用</h2><p>先看帮助信息（当前版本 v3.1.2 。篇幅关系，省略了详细内容，你还是安装之后自己执行一遍吧。）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">go-bindata --help <span class="comment"># 虽然参数列表里没有 --help, 但是确实起效了，-h 也有效</span></div><div class="line">Usage: go-bindata [options] &lt;input directories&gt;</div><div class="line"></div><div class="line">  -debug</div><div class="line">  -dev</div><div class="line">  -fs</div><div class="line">  -ignore value</div><div class="line">  -mode uint</div><div class="line">  -modtime int</div><div class="line">  -nocompress</div><div class="line">  -nomemcopy</div><div class="line">  -nometadata</div><div class="line">  -o string (default <span class="string">"./bindata.go"</span>)</div><div class="line">  -pkg string (default <span class="string">"main"</span>)</div><div class="line">  -prefix string</div><div class="line">  -tags string</div><div class="line">  -version</div></pre></td></tr></table></figure>
<p>最 <strong>基本的用法</strong> 是直接命令 + 目录，参数全部走默认（生成 <code>./bindata.go</code> ，包名 <code>main</code>），只包含目标目录，不包括子目录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">go-bindata data/</div></pre></td></tr></table></figure>
<p>但这样用过于粗糙，特别是生成的源码直接放在根目录的 main 包下，不方便管理。</p>
<p>网上比较 <strong>常见的用法</strong> 是这样:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">go-bindata -o=asset/asset.go -ignore=<span class="string">"\\.DS_Store|desktop.ini|README.md"</span> -pkg=asset template/... theme/... doc/...</div></pre></td></tr></table></figure>
<p>做出的改进有：</p>
<ul>
<li>为了更好地管理生成的源码，（<code>-o</code>）指定输出的目录和文件名，（<code>-pkg</code>）给一个独立的包名（为了减少 import 时的认知负担，建议三者直接保持一致）。</li>
<li>目标目录可以有多个，三句点省略号表示 <strong>递归包含子目录</strong> 。</li>
<li>为了避免一些常见的文件被当作资源文件编译进去，（<code>-ignore</code>）添加一个 ignore pattern，注意用的是 <strong>正则表达式</strong> 。</li>
</ul>
<p>而我更 <strong>推荐的用法</strong> 是尽量把资源文件集中放在一个目录下面，避免这里放一点那里放一点，最后生成时遗漏。例如统一放 <code>assets</code> 目录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">go-bindata -o=bindata/bindata.go -ignore=<span class="string">"\\.DS_Store|desktop.ini|README.md"</span> -pkg=bindata -prefix=assets assets/...</div></pre></td></tr></table></figure>
<ul>
<li><code>assets</code> 目录放了资源文件之后，为了避免混淆，也为了一眼能看出来是 go-bindata 生成的代码，源码路径、文件名 和 包名，都统一改为了 <code>bindata</code>。</li>
<li>资源既然统一放在 <code>assets</code> 目录下，增加 <code>-prefix</code> 参数，在生成的代码中去掉公共前缀。这样就可以直接用 <code>abc.png</code> 来引用 <code>assets/abc.png</code> 。</li>
</ul>
<p>执行这行命令得到的 <code>./bindata/bindata.go</code> 大概是这样子的：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Code generated by go-bindata. DO NOT EDIT. @generated</span></div><div class="line"><span class="comment">// sources:</span></div><div class="line"><span class="comment">// assets/web.toml</span></div><div class="line"><span class="comment">// ...</span></div><div class="line"><span class="comment">// 被转换的文件清单...</span></div><div class="line"><span class="keyword">package</span> bindata</div><div class="line"></div><div class="line"><span class="keyword">import</span> (<span class="comment">/*...*/</span>)</div><div class="line"></div><div class="line"><span class="comment">// 私有结构体、函数定义</span></div><div class="line"><span class="comment">// ...</span></div><div class="line"><span class="comment">// 数据以私有 []byte 的方式保存</span></div><div class="line"><span class="comment">// ...</span></div><div class="line"><span class="comment">// 篇幅关系，只展示公共 API</span></div><div class="line"></div><div class="line"><span class="comment">// Asset 根据文件名读取文件内容的 []byte，出错返回 error</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">Asset</span><span class="params">(name <span class="keyword">string</span>)</span> <span class="params">([]<span class="keyword">byte</span>, error)</span></span> &#123;<span class="comment">/*...*/</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">// MustAsset 跟 Asset 的区别只在于出错不返回 error ，直接 panic</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">MustAsset</span><span class="params">(name <span class="keyword">string</span>)</span> []<span class="title">byte</span></span> &#123;<span class="comment">/*...*/</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">// AssetInfo 根据文件名返回文件信息</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">AssetInfo</span><span class="params">(name <span class="keyword">string</span>)</span> <span class="params">(os.FileInfo, error)</span></span> &#123;<span class="comment">/*...*/</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">// AssetNames 返回所有文件名</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">AssetNames</span><span class="params">()</span> []<span class="title">string</span></span> &#123;<span class="comment">/*...*/</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">// AssetDir 返回指定目录下的所有文件，可以近似看作 ls / dir 命令</span></div><div class="line"><span class="comment">// 参数从根目录算起，空串 "" 当作根目录</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">AssetDir</span><span class="params">(name <span class="keyword">string</span>)</span> <span class="params">([]<span class="keyword">string</span>, error)</span></span> &#123;<span class="comment">/*...*/</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">// RestoreAsset 将 name 指定的文件，恢复到 dir 指定的位置上</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">RestoreAsset</span><span class="params">(dir, name <span class="keyword">string</span>)</span> <span class="title">error</span></span> &#123;<span class="comment">/*...*/</span>&#125;</div><div class="line"></div><div class="line"><span class="comment">// RestoreAssets 是递归版的 RestoreAsset，如果 name 是目录，会递归执行下去</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">RestoreAssets</span><span class="params">(dir, name <span class="keyword">string</span>)</span> <span class="title">error</span></span> &#123;<span class="comment">/*...*/</span>&#125;</div></pre></td></tr></table></figure>
<p>除此以外，再了解一下 <code>-debug</code>  和 <code>-dev</code> 参数，就基本够用了，更多参数完全可以看着帮助信息自己试。</p>
<p>加了这两个参数（的其中一个），转换时不会真的把资源放进生成的源码，还是去原来的文件读，只是做了一层 API 封装。这样有利于开发和资源设计并行。</p>
<ul>
<li>代码已经生成，开发可以基于生成的 API 进行，背后究竟读硬盘上的文件还是内存里的切片，不影响调用。</li>
<li>各种资源文件还可以继续修改，只要在原有的文件上修改，没有新增文件或者重命名，就不需要重新执行 go-bindata 重新生成。频繁修改资源文件，调试时很容易忘掉是否有重新执行 go-bindata 。这个特性就特别有用。</li>
</ul>
<p><code>-debug</code> 和 <code>-dev</code> 之间的差别，仅仅是背后加载文件时，使用 绝对路径 还是 相对路径。这个看调试方便，差别不是特别大，正式的构建时时一定要关掉的。</p>
<h2 id="肆、自动生成"><a href="#肆、自动生成" class="headerlink" title="肆、自动生成"></a>肆、自动生成</h2><p>已经有固定的命令 + 参数搭配了，但是每次执行，不要说手敲麻烦又易错，就连复制粘贴都是体力活。</p>
<p>更不要说修改完资源容易忘掉重新执行转换。这时候就需要 go generate 和 make 出场了。</p>
<blockquote>
<p>关于 go generate 的详细介绍和用法，请自行搜索，或者等我后续介绍。</p>
<p>在 Windows 下配置 make 的方法，已经在前面几篇介绍 go 开发环境配置中写了。后续也考虑介绍 Makefile 的写法。</p>
<p>anyway，两个都只讲用到的，这里不详细展开。</p>
</blockquote>
<h3 id="go-generate"><a href="#go-generate" class="headerlink" title="go generate"></a>go generate</h3><p><code>go generate</code> 是 go 工具链自带的命令，自 go 1.4 之后提供。（写文章时最新是 1.14，我还在用 1.13）</p>
<p>只要在某个 go 源文件开头写（注意 <code>//go:generate</code> 前面和中间没有任何空格，冒号是半角冒号）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//go:generate go-bindata -o=bindata/bindata.go -ignore="\\.DS_Store|desktop.ini|README.md" -pkg=bindata assets/...</span></div><div class="line"></div><div class="line"><span class="keyword">package</span> xyz</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">    <span class="string">"abc"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">//...</span></div></pre></td></tr></table></figure>
<p>这之后只要执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">go generate</div></pre></td></tr></table></figure>
<p>工具链就会自行扫描项目所有源码里的 <code>//go:generate &lt;cmd&gt; [args]...</code> ，执行里面的 <code>cmd args</code> ，包括但不限于 go-bindata，任何在当前工作目录可以执行的命令，都行。</p>
<p>建议哪里的代码引用了资源文件，这行指令就放那个源码的开头。如果多处引用，则建议统一放程序入口。</p>
<h3 id="go-generate-make"><a href="#go-generate-make" class="headerlink" title="go generate + make"></a>go generate + make</h3><p>但 generate 只是解放了一长串命令 + 参数 的记忆负担，对强迫症来说，每次修改资源都要记得 <code>go generate</code> 仍然很难受。这时可以用 make 减轻负担。因为重点不是介绍 make，直接上结论：</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta"><span class="meta-keyword">.PHONY</span>: bindata build</span></div><div class="line"></div><div class="line">all: build</div><div class="line"></div><div class="line"><span class="comment"># build 依赖 bindata.go，这样构建时就不会忘掉生成</span></div><div class="line">build: bindata/bindata.go</div><div class="line">	go build # 真实项目中 go build 应该加上更多编译参数，这里不是重点，省略</div><div class="line"></div><div class="line"><span class="section">bindata:</span></div><div class="line">	go generate</div><div class="line"></div><div class="line">bindata/bindata.go: assets/*</div><div class="line">	go generate</div></pre></td></tr></table></figure>
<p>稍微解释一下 <code>bindata</code> 和 <code>bindata/bindata.go</code> 两个 target ：它们都是要执行 <code>go generate</code>  命令，生成转换后的源码，区别在于，前者是 <strong>伪目标</strong> ， 后者是真实文件。</p>
<ul>
<li><code>bindata</code> ：不存在这么一个文件，而且前面显式声明了它是一个伪目标 (phony target) ，意味着构建这个目标时，不需要判断文件是否存在和新旧，必定执行。可以用来在特殊情况下强制执行（如资源文件通过 <code>cp -p</code> 从别的地方拷贝过来覆盖过）。</li>
<li><code>bindata/bindata.go</code> ：是真实的文件。make 会比较 target 和 prerequisites 是否存在和修改时间先后判断是否执行。<code>bindata/bindata.go</code> 存在且最新时，是不会执行命令的。</li>
</ul>
<p>这个实际试一下就明白了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 前面已经生成了最新的 bindata/bindata.go</span></div><div class="line">make bindata/bindata.go</div><div class="line">make: <span class="string">'bindata/bindata.go'</span> is up to date.</div><div class="line"></div><div class="line"><span class="comment"># make bindata 仍然有效</span></div><div class="line">make bindata</div><div class="line">go generate <span class="comment"># 这行是 make 的 echo，说明 go generate 执行了</span></div><div class="line"></div><div class="line"><span class="comment"># 这时更新一下其中一个资源的时间</span></div><div class="line">touch assets/web.toml</div><div class="line">make bindata/bindata.go</div><div class="line">go generate <span class="comment"># 同上，这行是 make 的 echo</span></div></pre></td></tr></table></figure>
<h3 id="make-就够了"><a href="#make-就够了" class="headerlink" title="make 就够了"></a>make 就够了</h3><p>不过这样也还是有问题。</p>
<p>随着加入更多的代码生成工具，像 stringer （自动生成 String 方法），wire（自动生成依赖注入），protobufs（从 .proto 生成 .pb.go）等等，都要靠 <code>go generate</code> 触发。这时 <strong>粒度</strong> 就有点粗了，明明只是其中一种修改了要重新生成，偏偏一个 <code>go generate</code> 全部都触发。文件少的时候还好，多的时候就会平白增加生成和磁盘读写的时间。</p>
<p>而且分散在各个 go 文件注释中的 go generate 指令也增加了管理难度。</p>
<p>其实就大多数生成命令而言，make 就够用了。go generate 能做到的事情，make 基本都可以完成，还能定义宏和依赖关系，更加灵活。全局的生成指令建议 <strong>都放到 Makefile</strong>。只有个别生成指令跟某个 go 源文件高度相关、参数各处不一样，可以继续放在注释里，靠 go generate 调用。</p>
<p>修改之后的 Makefile：</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 这里只是为了演示，实际中不改动的部分没有必要定义宏</span></div><div class="line"><span class="comment"># 或者定义一个 BINDATA_NAME 统一用它就好</span></div><div class="line">BINDATA_PATH = bindata</div><div class="line">BINDATA_NAME = bindata</div><div class="line">BINDATA_PACKAGE = bindata</div><div class="line">BINDATA_DIR = assets</div><div class="line"><span class="comment"># ignore list 还是建议定义一个宏，方便随时添加</span></div><div class="line">BINDATA_IGNORE = "\\.DS_Store|desktop.ini|README.md"</div><div class="line"></div><div class="line"><span class="meta"><span class="meta-keyword">.PHONY</span>: bindata build</span></div><div class="line"></div><div class="line">all: build</div><div class="line"></div><div class="line">build: bindata/bindata.go</div><div class="line">	go build</div><div class="line"></div><div class="line"><span class="comment"># 这两个 target 执行的命令一样，合并成一条规则</span></div><div class="line">bindata bindata/bindata.go: $(BINDATA_DIR)/*</div><div class="line">	go-bindata -o=<span class="variable">$(BINDATA_PATH)</span>/<span class="variable">$(BINDATA_NAME)</span>.go -ignore=<span class="variable">$(BINDATA_IGNORE)</span> -pkg=<span class="variable">$(BINDATA_PACKAGE)</span> -prefix=<span class="variable">$(BINDATA_DIR)</span> <span class="variable">$(BINDATA_DIR)</span>/...</div></pre></td></tr></table></figure>
<h2 id="伍、配置文件嵌入"><a href="#伍、配置文件嵌入" class="headerlink" title="伍、配置文件嵌入"></a>伍、配置文件嵌入</h2><p>回到文章开头提出的场景。</p>
<p>嵌入资源文件，是为了保持单文件发布的优势。各种资源嵌入源码后，不仅应用变成了单个可执行文件，数据还做了（Gzip）压缩。直接从代码区读取数据，也比磁盘 IO 要来的快捷可控。基本上只要文件不是非常巨大，资源嵌入都是利大于弊的。</p>
<p>而对于配置文件而言，要考虑得多一些。要允许用户修改配置，代码中的配置是无法修改的。这面临几个选择：</p>
<ol>
<li><p>应用单文件发布，配置文件让用户自行创建。</p>
<p> 开发角度看很方便。但对用户不友好，特别是开源项目。用户面对的只有可执行文件，只能尝试执行、启动，或者看一下 help 信息。对于如何、在哪创建配置文件，该怎么写，新用户 <strong>毫无头绪</strong> 。这样做需要项目文档相对完善，文档中有配置的章节，并且文档入口放在项目主页显眼的地方，最好在 help 信息里也有。</p>
</li>
<li><p>可执行文件带着默认的配置文件，打包发布。</p>
<p> 这种做法对用户友好一些。但首先享受不到单文件发布的便利。而且用户一旦不小心错误覆盖、或者删除了配置文件，仍然陷入了第一种情况，需要从头手敲配置。</p>
<p> 一种改进是将默认配置加上 <code>.sample</code> 后缀，用户启用了配置文件需要拷贝一份后去掉多余的后缀。这看起来是个好办法，把上述问题除了单文件发布都解决了。我用过这个方案。实际中发现哪怕仅仅拷贝重命名，对于小白用户而言还是 <strong>过于复杂</strong>，能产生各种开发者想象不到的问题。（Windows 上隐藏了后缀名，怎么改都不对；直接把 sample 文件覆盖了，出错了不知道拿什么做参考…）</p>
</li>
</ol>
<p>经过不同的尝试，我认为比较好的办法是：</p>
<ul>
<li>把默认配置嵌入代码，单文件发布；</li>
<li>在某个时机，将默认配置重新写回磁盘，用户在这个文件基础上修改配置；（这个时机可以是一个显式的 install 操作，也可以是启动时发现还没有配置文件，等等，根据需要实现）</li>
<li>如果因为某些原因丢失了配置，重新生成默认配置即可。</li>
</ul>
<p>代码实现（假定默认配置为 <code>assets/web.toml</code>，已经按上面最后的配置转换成 <code>bindata/bindata.go</code>）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> config</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"path/filepath"</span></div><div class="line"></div><div class="line">	<span class="string">"playground/bindata"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">const</span> (</div><div class="line">	customDir  = <span class="string">"custom"</span></div><div class="line">	configFile = <span class="string">"web.toml"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">type</span> Config <span class="keyword">struct</span> &#123;</div><div class="line">	<span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">Load</span><span class="params">()</span> *<span class="title">Config</span></span> &#123;</div><div class="line">	maybeRestoreConfigFile()</div><div class="line">	<span class="keyword">return</span> loadConfigFromFile()</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">maybeRestoreConfigFile</span><span class="params">()</span></span> &#123;</div><div class="line">	<span class="keyword">if</span> !isFile(filepath.Join(customDir, configFile)) &#123;</div><div class="line">        <span class="comment">// 如果配置文件不存在，先将默认配置恢复到目标位置</span></div><div class="line">		bindata.RestoreAsset(customDir, configFile)</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">loadConfigFromFile</span><span class="params">()</span> *<span class="title">Config</span></span> &#123;<span class="comment">/*...*/</span>&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">isFile</span><span class="params">(path <span class="keyword">string</span>)</span> <span class="title">bool</span></span> &#123;<span class="comment">/* 判断一个路径是不是一个文件 */</span>&#125;</div></pre></td></tr></table></figure>
<p>篇幅关系，这是一个非常精简的例子，省略了很多错误判断，不重要的函数也把实现删掉了。最后外部直接调用 <code>config.Load()</code> ，无论原本是否有配置文件，都能加载到配置。</p>
<p>如果配置比较复杂，不想静默地生成一个默认配置，可以显式地加入一个 <code>install</code> 之类的命令，引导用户填写一些配置，再结合默认配置生成。但总体上是这么个思路。</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>提一下 go-bindata 项目之前的一些周折。</p>
<p>如果你搜索 go-bindata 的文章，会发现早期的文章指向的项目地址往往是：<a href="https://github.com/jteeuwen/go-bindata" target="_blank" rel="external">https://github.com/jteeuwen/go-bindata</a> 。那是最早的项目地址，<code>jteeuwen</code> 是原作者 Jim Teeuwen 的账号。</p>
<p>但不知道什么时候，因为什么原因，原作者把项目关闭了，连 <code>jteeuwen</code> 这个账号都删除了。（从现存线索推断，大约是 2018 年的事）</p>
<p>现在原地址也有一个项目，但已经 <strong>不是原项目</strong> ，也 <strong>不再维护</strong> 了。那是有人发现 go-bindata 删除后，为了让依赖它的项目不会报错，重新注册了 <code>jteeuwen</code> 这个账号，重新 fork 了这个项目 (真正原项目已删，是从一个 fork 那里 fork 的) 。因为初衷是让某个项目能够继续工作（据说是已经没法修改的私人项目，所以也不能指向新的地址），并没有打算继续维护，也不想冒充原项目，所以这个项目设为了 archived (read only)。详情可以参考以下讨论：</p>
<ul>
<li><p><a href="https://github.com/jteeuwen/go-bindata/issues/5" target="_blank" rel="external">https://github.com/jteeuwen/go-bindata/issues/5</a></p>
</li>
<li><p><a href="https://github.com/jteeuwen/discussions/issues" target="_blank" rel="external">https://github.com/jteeuwen/discussions/issues</a></p>
</li>
</ul>
<p>现在给出的项目地址，不确定跟原作者有没有关系——估计是没有的。那它不过是众多 fork 的其中一个。选它仅仅因为它最活跃、关注人数最多。这可能跟它挂在了同名 organization 下有一定关系，也可能里面有某个大牛。</p>
<p>理由并不重要，只需要知道它最活跃是一个共识，就够了。</p>
<hr>
<p><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="知识共享 “署名-非商业性使用-相同方式共享” 4.0 (CC BY-NC-SA 4.0)”许可协议"><br>本文为本人原创，采用<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="external">知识共享 “署名-非商业性使用-相同方式共享” 4.0 (CC BY-NC-SA 4.0)”许可协议</a>进行许可。<br>本作品可自由复制、传播及基于本作品进行演绎创作。如有以上需要，请留言告知，在文章开头明显位置加上署名（Jayce Chant）、原链接及许可协议信息，并明确指出修改（如有），不得用于商业用途。谢谢合作。<br>请点击查看<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="external">协议</a>的中文摘要。</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://jaycechant.info/2020/go-bindata-golang-static-resources-embedding/" data-id="ck9rd0o20006z4sxl815ufidu" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="https://jaycechant.info/2020/go-bindata-golang-static-resources-embedding/#disqus_thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/golang/">golang</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/ohain-and-heinrich/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          海恩法则 和 海因里希法则：李鬼的诞生
        
      </div>
    </a>
  
  
    <a href="/2020/progressive-image-loading/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">渐进式图像加载</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
  </section>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/科普/">科普</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Anaconda/" style="font-size: 10px;">Anaconda</a> <a href="/tags/Android/" style="font-size: 11.67px;">Android</a> <a href="/tags/Android-sdk/" style="font-size: 10px;">Android-sdk</a> <a href="/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/JCE/" style="font-size: 10px;">JCE</a> <a href="/tags/Java/" style="font-size: 11.67px;">Java</a> <a href="/tags/JavaMail/" style="font-size: 10px;">JavaMail</a> <a href="/tags/Jenkins/" style="font-size: 16.67px;">Jenkins</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 13.33px;">Markdown</a> <a href="/tags/Mathjax/" style="font-size: 10px;">Mathjax</a> <a href="/tags/OJ/" style="font-size: 10px;">OJ</a> <a href="/tags/Octopress/" style="font-size: 10px;">Octopress</a> <a href="/tags/OpenGrok/" style="font-size: 10px;">OpenGrok</a> <a href="/tags/Python/" style="font-size: 16.67px;">Python</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Syncthing/" style="font-size: 10px;">Syncthing</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Ubuntu/" style="font-size: 11.67px;">Ubuntu</a> <a href="/tags/algorithm/" style="font-size: 11.67px;">algorithm</a> <a href="/tags/aliyun/" style="font-size: 10px;">aliyun</a> <a href="/tags/app/" style="font-size: 10px;">app</a> <a href="/tags/blog/" style="font-size: 13.33px;">blog</a> <a href="/tags/byobu/" style="font-size: 11.67px;">byobu</a> <a href="/tags/ctags/" style="font-size: 10px;">ctags</a> <a href="/tags/dep/" style="font-size: 11.67px;">dep</a> <a href="/tags/document/" style="font-size: 10px;">document</a> <a href="/tags/dropbox/" style="font-size: 10px;">dropbox</a> <a href="/tags/file-system/" style="font-size: 10px;">file-system</a> <a href="/tags/flutter/" style="font-size: 10px;">flutter</a> <a href="/tags/git/" style="font-size: 11.67px;">git</a> <a href="/tags/glide/" style="font-size: 10px;">glide</a> <a href="/tags/golang/" style="font-size: 20px;">golang</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/how-to/" style="font-size: 16.67px;">how-to</a> <a href="/tags/jpg/" style="font-size: 10px;">jpg</a> <a href="/tags/json/" style="font-size: 11.67px;">json</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/mirror/" style="font-size: 10px;">mirror</a> <a href="/tags/netdisk/" style="font-size: 10px;">netdisk</a> <a href="/tags/node-js/" style="font-size: 11.67px;">node.js</a> <a href="/tags/nodePPT/" style="font-size: 11.67px;">nodePPT</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/pgyer/" style="font-size: 10px;">pgyer</a> <a href="/tags/pip/" style="font-size: 15px;">pip</a> <a href="/tags/png/" style="font-size: 10px;">png</a> <a href="/tags/practice/" style="font-size: 11.67px;">practice</a> <a href="/tags/presentation/" style="font-size: 11.67px;">presentation</a> <a href="/tags/screen/" style="font-size: 11.67px;">screen</a> <a href="/tags/service/" style="font-size: 10px;">service</a> <a href="/tags/skill/" style="font-size: 13.33px;">skill</a> <a href="/tags/smtp/" style="font-size: 10px;">smtp</a> <a href="/tags/software/" style="font-size: 10px;">software</a> <a href="/tags/solution-report/" style="font-size: 10px;">solution-report</a> <a href="/tags/supervisor/" style="font-size: 10px;">supervisor</a> <a href="/tags/thought/" style="font-size: 10px;">thought</a> <a href="/tags/trouble/" style="font-size: 18.33px;">trouble</a> <a href="/tags/unfinished/" style="font-size: 13.33px;">unfinished</a> <a href="/tags/virtualenv/" style="font-size: 10px;">virtualenv</a> <a href="/tags/vsftp/" style="font-size: 10px;">vsftp</a> <a href="/tags/why/" style="font-size: 11.67px;">why</a> <a href="/tags/写作/" style="font-size: 10px;">写作</a> <a href="/tags/安全/" style="font-size: 10px;">安全</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">四月 2012</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/buran-virus-what-happens/">听说 B 站 500+ 万粉丝 up 主被病毒勒索</a>
          </li>
        
          <li>
            <a href="/2020/difficulties-of-writing/">写作困难：你是否有类似的烦恼？</a>
          </li>
        
          <li>
            <a href="/2020/name-server-from-dnspod-to-cloudflare/">域名解析从 DNSPod 到 Cloudflare</a>
          </li>
        
          <li>
            <a href="/2020/ohain-and-heinrich/">海恩法则 和 海因里希法则：李鬼的诞生</a>
          </li>
        
          <li>
            <a href="/2020/go-bindata-golang-static-resources-embedding/">go-bindata：go 语言的静态资源嵌入</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://hexo.io/zh-cn/" target="_blank">Hexo主页</a>
          </li>
        
          <li>
            <a href="https://hexo.io/zh-cn/docs/" target="_blank">Hexo文档</a>
          </li>
        
          <li>
            <a href="https://github.com/xiangming/landscape-plus" target="_blank">landscape-plus项目主页</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Jayce Sigit Chant<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/list" class="mobile-nav-link">List</a>
  
    <a href="https://github.com/JayceChant" class="mobile-nav-link">Github</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/sitemap.xml" class="mobile-nav-link">Sitemap</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<script>
  var disqus_shortname = 'jaycetb';
  
  var disqus_url = 'https://jaycechant.info/2020/go-bindata-golang-static-resources-embedding/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"/css/bdshare.css"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>



<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
                processEscapes: true
                    
}
  
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
                  
}
    
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                            all[i].SourceElement().parentNode.className += ' has-jax';
                                    
            }
                
        });
</script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<script src="/js/script.js"></script>

</div>
</body>
</html>
